<!DOCTYPE html>
<html><head><title>Clerk</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./public/build/index.html", "./public/build/**/*.html", "./build/viewer.js"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-slate-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h2, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }
  h4 { @apply text-xl; }
  h5 { @apply text-lg; }
  h6 { @apply text-base; }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.toc-content {
  @apply translate-x-[-110%] opacity-0;
}
.toc:hover .toc-content,
.toc.pinned .toc-content {
  @apply translate-x-0 opacity-100;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.viewer-markdown ul .task-list-item ul {
  @apply mt-1;
}

/* compact TOC */
.viewer-markdown .toc ul {
  list-style: none;
  @apply my-0;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.viewer-code {
  @apply font-mono bg-slate-100 rounded-sm text-sm mt-4 overflow-x-auto dark:bg-slate-800;
}
.viewer-code .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
  .viewer-notebook .viewer-code .cm-content {
    @apply py-4 pl-12;
  }
}
/* Donâ€™t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .viewer-result {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.viewer-notebook,
.viewer-markdown {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-6
    prose-th:mb-0
    prose-img:mb-0
    max-w-none;
}
.viewer-markdown li > p {
  @apply inline;
}

/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list li p {
  @apply inline m-0;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.viewer-markdown .toc      { @apply mt-4; }
.viewer-markdown h1 + .toc { @apply mt-8; }

.viewer-markdown .toc h1,
.viewer-markdown .toc h2,
.viewer-markdown .toc h3,
.viewer-markdown .toc h4,
.viewer-markdown .toc h5,
.viewer-markdown .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.viewer-markdown .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.viewer-markdown .toc li    { @apply m-0; }
.viewer-markdown .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.viewer-notebook { @apply py-16; }
.viewer-markdown *:first-child:not(.viewer-code) { @apply mt-0; }
.viewer + .viewer { @apply mt-6; }
.viewer-markdown + .viewer { @apply mt-3; }
.viewer-markdown + .viewer-markdown { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-3px] inline-flex justify-center items-center w-[18px] h-[18px]
    rounded-full bg-slate-100 border border-slate-300 hover:bg-slate-200 hover:border-slate-300
    m-0 ml-[4px] cursor-pointer;
}
.sidenote {
  @apply hidden float-left clear-both mx-[2.5%] my-4 text-xs relative w-[95%];
}
.sidenote-ref.expanded + .sidenote {
  @apply block;
}
@media (min-width: 860px) {
  .sidenote-ref {
    @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
  }
  .sidenote sup { @apply inline; }
  .viewer-markdown .contains-sidenotes p { @apply max-w-[65%]; }
  .viewer-markdown p .sidenote {
    @apply mr-[-54%] mt-[0.2rem] w-1/2 float-right clear-right relative block;
  }
}
.viewer-code + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-code-folded + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-result + .viewer-result {
  @apply mt-2;
}
.viewer-result {
  @apply leading-tight;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.collapsed-sidebar:not(.mobile-sidebar) .sidebar-content {
  @apply transition-all duration-200 ml-[-360px] opacity-0;
}
.collapsed-sidebar:hover:not(.mobile-sidebar) .sidebar-content {
  @apply ml-0 opacity-100;
}
.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by twâ€™s border-color */
.katex * { @apply border-black; }
</style><script src="https://storage.googleapis.com/nextjournal-cas-eu/data/8Vt3Eko1RGonTrRXaLTP6Ly5XugGnYiRapACBxSoZ2RKwFztsi2NYXvTb5vyCTFya2RDgK9vXwVvKBnQ8dWopcmvA5" type="text/javascript"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&amp;family=Fira+Mono:wght@400;700&amp;family=Fira+Sans+Condensed:ital,wght@0,700;1,700&amp;family=Fira+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&amp;family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script>let viewer = nextjournal.clerk.sci_viewer
let app = nextjournal.clerk.static_app
let opts = viewer.read_string("{:paths [\"notebooks/intro.clj\"], :bundle? true, :path->doc {\"notebooks/intro.clj\" {:nextjournal/value {:blocks [{:nextjournal/value \" # Viz.clj tutorial\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ## What is this?\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" [Viz.clj](https://github.com/scicloj/viz.clj) is a (work-in-progress) Clojure library for easy data visualizations.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ### Where does it fit in the Clojure visual landscape?\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Viz.clj mostly built on top of [Hanami](https://github.com/jsa-aerial/hanami)'s [template substitutions](https://github.com/jsa-aerial/hanami#templates-substitution-keys-and-transformations) for generating [Vega-Lite](https://vega.github.io/vega-lite/) visualizations.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Since it generates Hanami substitutions, which then generate Vega-Lite specs, one may use it without losing any of the power and expressivity of Hanami and Vega-Lite. It can be seen as a shortcut for generating plots in common use cases, which can stay out of the way when one needs to do more sophisticated plotting.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" It uses [Kindly](https://github.com/scicloj/kindly) to specify in what kinds of ways things should be viewed. Therefore, it is especially convenient to use from [Clay](https://github.com/scicloj/clay), which uses Kindly's kinds to direct various Clojure tools how to render things.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" For example, Viz.clj would make sure to mark the kind of [tech.ml.dataset](https://github.com/techascent/tech.ml.dataset) (and [Tablecloth](https://github.com/scicloj/tablecloth)) datasets appropriately, so that Clay can render them nicely as tables.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" However, it is not limited to use with Kindly and Clay. Most of it would work in any Clojure tool that knows how to render Vega-Lite visualizations.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ### How was it created?\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Viz.clj's development has been based was based on a research process by Ashima Panjwani, that was based on studying data-visualization APIs in various libraries and languages, as well as gradually evolving the Viz.clj API through testing with users at the [Scicloj study & dev groups](https://scicloj.github.io/docs/community/groups/).\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" That process is not considered finished yet.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ## Intro talk\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" [Viz.clj - Clojure data visualization for beginners - Ashima Panjwani - re:Clojure 2021](https://www.youtube.com/watch?v=9Jfw7cTzbAs)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ## Setup\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Viz.clj can be used as a library together with any Clojure tool supporting Vega-Lite. For using it  with Clay, please see the [example project](https://github.com/scicloj/viz.clj/tree/master/examples/example-project).\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(ns scicloj.viz.intro\\n  (:require [scicloj.viz.api :as viz]\\n            [scicloj.viz.templates :as viz.templates]\\n            [scicloj.viz.util :as util]\\n            [tablecloth.api :as tc]\\n            [tech.v3.datatype.functional :as fun]\\n            [tablecloth.pipeline :as tc-pipe]\\n            [aerial.hanami.templates :as ht]\\n            [scicloj.kindly.v2.kind :as kind]\\n            [scicloj.kindly.v2.api :as kindly]\\n            [scicloj.clay.v1.api :as clay]\\n            [scicloj.clay.v1.tools :as tools]\\n            [nextjournal.clerk :as clerk]))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}}\"}, :path []} {:nextjournal/value \"(clay/start! {:tools [tools/clerk]})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}}\"}, :path []} {:nextjournal/value \"(comment\\n  (clay/restart! {:tools [tools/clerk tools/portal]}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}}\"}, :path []} {:nextjournal/value \" ## Basic examples\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Here are a couple of examples of creating plots.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> [{:x 1 :y 2}\\n     {:x 2 :y 4}\\n     {:x 3 :y 9}]\\n    viz/data\\n    (viz/type :point)\\n    (viz/mark-size 200)\\n    (viz/color :x)\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :color {:field \\\"x\\\", :type \\\"nominal\\\"}, :size {:value 200}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 1, :y 2} {:x 2, :y 4} {:x 3, :y 9}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \"(-> \\\"https://vega.github.io/vega-lite/data/penguins.json\\\"\\n    viz/data\\n    (viz/x \\\"Beak Length (mm)\\\")\\n    (viz/y \\\"Beak Depth (mm)\\\")\\n    (viz/color \\\"Beak Depth (mm)\\\")\\n    (viz/type \\\"point\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"Beak Depth (mm)\\\", :type \\\"quantitative\\\"}, :color {:field \\\"Beak Depth (mm)\\\", :type \\\"nominal\\\"}, :x {:field \\\"Beak Length (mm)\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"Beak Length (mm)\\\", :type \\\"quantitative\\\"} {:field \\\"Beak Depth (mm)\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:url \\\"https://vega.github.io/vega-lite/data/penguins.json\\\"}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" Throughout this tutorial, we will gradually discover how they work.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ## How does it work?\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Throughout the pipeline of transformations, Viz.clj progresses a Clojure map containing the necessary details for plotting.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Most of those details are [template substitutions](https://github.com/jsa-aerial/hanami#templates-substitution-keys-and-transformations) of [Hanami](https://github.com/jsa-aerial/hanami), but the beginner user does not need to know that.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" (As we'll see below, datasets are kept under a special key, complying with the [Metamorph](https://github.com/scicloj/metamorph) approach, but the beginner user does not need to know that.)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The plot type is also kept under a special key.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The final `viz/viz` call combines all the details and applies the Hanami substitutions, to get a Vega-Lite plot.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> [{:x 1 :y 2}\\n     {:x 2 :y 4}\\n     {:x 3 :y 9}]\\n    viz/data)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :DATA, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value [{:path [0 1 0 0], :nextjournal/value [{:path [0 1 0 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 0 0 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 0 1], :nextjournal/value [{:path [0 1 0 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 0 1 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [0 1 1], :nextjournal/value [{:path [0 1 1 0], :nextjournal/value [{:path [0 1 1 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 1 0 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 1 1], :nextjournal/value [{:path [0 1 1 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 1 1 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [0 1 2], :nextjournal/value [{:path [0 1 2 0], :nextjournal/value [{:path [0 1 2 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 2 0 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 2 1], :nextjournal/value [{:path [0 1 2 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 2 1 1], :nextjournal/value 9, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"]\\\" \\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \"(-> [{:x 1 :y 2}\\n     {:x 2 :y 4}\\n     {:x 3 :y 9}]\\n    viz/data\\n    (viz/type :point))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :DATA, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value [{:path [0 1 0 0], :nextjournal/value [{:path [0 1 0 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 0 0 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 0 1], :nextjournal/value [{:path [0 1 0 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 0 1 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [0 1 1], :nextjournal/value [{:path [0 1 1 0], :nextjournal/value [{:path [0 1 1 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 1 0 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 1 1], :nextjournal/value [{:path [0 1 1 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 1 1 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [0 1 2], :nextjournal/value [{:path [0 1 2 0], :nextjournal/value [{:path [0 1 2 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 2 0 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 2 1], :nextjournal/value [{:path [0 1 2 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 2 1 1], :nextjournal/value 9, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"]\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :viz/type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value :point, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \"(-> [{:x 1 :y 2}\\n     {:x 2 :y 4}\\n     {:x 3 :y 9}]\\n    viz/data\\n    (viz/type :point)\\n    (viz/mark-size 200))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :DATA, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value [{:path [0 1 0 0], :nextjournal/value [{:path [0 1 0 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 0 0 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 0 1], :nextjournal/value [{:path [0 1 0 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 0 1 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [0 1 1], :nextjournal/value [{:path [0 1 1 0], :nextjournal/value [{:path [0 1 1 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 1 0 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 1 1], :nextjournal/value [{:path [0 1 1 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 1 1 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [0 1 2], :nextjournal/value [{:path [0 1 2 0], :nextjournal/value [{:path [0 1 2 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 2 0 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 2 1], :nextjournal/value [{:path [0 1 2 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1 2 1 1], :nextjournal/value 9, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"]\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :SIZE, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value 200, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :viz/type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value :point, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \" The final result is marked to have the Vega kind, and just renders accordingly.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> [{:x 1 :y 2}\\n     {:x 2 :y 4}\\n     {:x 3 :y 9}]\\n    viz/data\\n    (viz/type :point)\\n    (viz/mark-size 200)\\n    (viz/color :x)\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :color {:field \\\"x\\\", :type \\\"nominal\\\"}, :size {:value 200}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 1, :y 2} {:x 2, :y 4} {:x 3, :y 9}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" Let us render it as a plain Clojure data structure, using the naive kind:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> [{:x 1 :y 2}\\n     {:x 2 :y 4}\\n     {:x 3 :y 9}]\\n    viz/data\\n    (viz/type :point)\\n    (viz/mark-size 200)\\n    (viz/color :x)\\n    viz/viz\\n    kind/naive)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :background, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value \\\"floralwhite\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :data, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value [{:path [1 1 0 0], :nextjournal/value :values, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1], :nextjournal/value [{:path [1 1 0 1 0], :nextjournal/value [{:path [1 1 0 1 0 0], :nextjournal/value [{:path [1 1 0 1 0 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 0 0 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 0 1], :nextjournal/value [{:path [1 1 0 1 0 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 0 1 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 1], :nextjournal/value [{:path [1 1 0 1 1 0], :nextjournal/value [{:path [1 1 0 1 1 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 1 0 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 1 1], :nextjournal/value [{:path [1 1 0 1 1 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 1 1 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 2], :nextjournal/value [{:path [1 1 0 1 2 0], :nextjournal/value [{:path [1 1 0 1 2 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 2 0 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 2 1], :nextjournal/value [{:path [1 1 0 1 2 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 2 1 1], :nextjournal/value 9, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"]\\\" \\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :encoding, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value [{:path [2 1 0 0], :nextjournal/value :color, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1], :nextjournal/value [{:path [2 1 0 1 0], :nextjournal/value [{:path [2 1 0 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 0 1], :nextjournal/value \\\"x\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 0 1 1], :nextjournal/value [{:path [2 1 0 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 1 1], :nextjournal/value \\\"nominal\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 1], :nextjournal/value [{:path [2 1 1 0], :nextjournal/value :size, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 1 1], :nextjournal/value [{:path [2 1 1 1 0], :nextjournal/value [{:path [2 1 1 1 0 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 1 1 0 1], :nextjournal/value 200, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 2], :nextjournal/value [{:path [2 1 2 0], :nextjournal/value :tooltip, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1], :nextjournal/value [{:path [2 1 2 1 0], :nextjournal/value [{:path [2 1 2 1 0 0], :nextjournal/value [{:path [2 1 2 1 0 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1 0 0 1], :nextjournal/value \\\"x\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 2 1 0 1], :nextjournal/value [{:path [2 1 2 1 0 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1 0 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [2 1 2 1 1], :nextjournal/value [{:path [2 1 2 1 1 0], :nextjournal/value [{:path [2 1 2 1 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1 1 0 1], :nextjournal/value \\\"y\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 2 1 1 1], :nextjournal/value [{:path [2 1 2 1 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1 1 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"]\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 3], :nextjournal/value [{:path [2 1 3 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 3 1], :nextjournal/value [{:path [2 1 3 1 0], :nextjournal/value [{:path [2 1 3 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 3 1 0 1], :nextjournal/value \\\"x\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 3 1 1], :nextjournal/value [{:path [2 1 3 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 3 1 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 4], :nextjournal/value [{:path [2 1 4 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 4 1], :nextjournal/value [{:path [2 1 4 1 0], :nextjournal/value [{:path [2 1 4 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 4 1 0 1], :nextjournal/value \\\"y\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 4 1 1], :nextjournal/value [{:path [2 1 4 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 4 1 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :height, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value 300, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :mark, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value [{:path [4 1 0 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [4 1 0 1], :nextjournal/value \\\"circle\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value :width, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [5 1], :nextjournal/value 400, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \" ## Just using Hanami\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Just like using Hanami allows one to use the full flexibility of Vega-Lite (but the beginner user may not need to worry about it too much), using Viz.clj allows one to use the full flexibility of Hanami (but the beginner user does not need to worry about it too much).\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" For those who care about it, Viz.clj can be seen as a way to generate and apply Hanami Template substitutions in a dataset-friendly way (see examples with datasets below).\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" (Thus, it also provides a dydactic way of getting many useful examples of Hanami substitions.)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" For example, let us see the Hanami substitutions comprising the above plot:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> [{:x 1 :y 2}\\n     {:x 2 :y 4}\\n     {:x 3 :y 9}]\\n    viz/data\\n    (viz/type :point)\\n    (viz/mark-size 200)\\n    (viz/color :x))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :COLOR, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value \\\"x\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :DATA, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value [{:path [1 1 0 0], :nextjournal/value [{:path [1 1 0 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 0 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1], :nextjournal/value [{:path [1 1 0 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 1], :nextjournal/value [{:path [1 1 1 0], :nextjournal/value [{:path [1 1 1 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 1 0 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 1 1], :nextjournal/value [{:path [1 1 1 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 1 1 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 2], :nextjournal/value [{:path [1 1 2 0], :nextjournal/value [{:path [1 1 2 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 2 0 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 2 1], :nextjournal/value [{:path [1 1 2 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 2 1 1], :nextjournal/value 9, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"]\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :SIZE, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value 200, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :viz/type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value :point, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \" We just learned about the `:COLOR` and `:SIZE` keys.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" It is possible to just pass them directly as substitutions at the final `viz/viz` call:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> [{:x 1 :y 2}\\n     {:x 2 :y 4}\\n     {:x 3 :y 9}]\\n    viz/data\\n    (viz/type :point)\\n    (viz/viz {:COLOR \\\"x\\\"\\n              :SIZE 200}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :color {:field \\\"x\\\", :type \\\"nominal\\\"}, :size {:value 200}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 1, :y 2} {:x 2, :y 4} {:x 3, :y 9}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" To make it even closer to a Hanami call, we can use the corresponding Hanami template instead of the shorthand `:point`:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> [{:x 1 :y 2}\\n     {:x 2 :y 4}\\n     {:x 3 :y 9}]\\n    viz/data\\n    (viz/type ht/point-chart)\\n    (viz/viz {:COLOR \\\"x\\\"\\n              :SIZE 200}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :color {:field \\\"x\\\", :type \\\"nominal\\\"}, :size {:value 200}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 1, :y 2} {:x 2, :y 4} {:x 3, :y 9}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" In the case of plain data (e.g., vector of maps rather than a dataset), that could be also written this way, passing the data as a substitution as well:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {}\\n    (viz/type ht/point-chart)\\n    (viz/viz {:DATA [{:x 1 :y 2}\\n                     {:x 2 :y 4}\\n                     {:x 3 :y 9}]\\n              :COLOR \\\"x\\\"\\n              :SIZE 200}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :color {:field \\\"x\\\", :type \\\"nominal\\\"}, :size {:value 200}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 1, :y 2} {:x 2, :y 4} {:x 3, :y 9}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" Alternatively:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(viz/viz {:viz/type ht/point-chart\\n          :DATA [{:x 1 :y 2}\\n                 {:x 2 :y 4}\\n                 {:x 3 :y 9}]\\n          :COLOR \\\"x\\\"\\n          :SIZE 200})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :color {:field \\\"x\\\", :type \\\"nominal\\\"}, :size {:value 200}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 1, :y 2} {:x 2, :y 4} {:x 3, :y 9}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" This last way of using `Viz.clj` can be seen as just a thin convenience on top of calling Hanami directly.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ## Datasets\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Viz.clj defines sensible rendering behaviour for datasets in Clay:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:rows {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1], :nextjournal/value 0.3679079847683978, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1], :nextjournal/value 0.6238522982742634, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1], :nextjournal/value 0.28748659969550927, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 3, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1], :nextjournal/value 0.8421239399134792, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value 4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1], :nextjournal/value 0.9035360266031971, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value 5, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1], :nextjournal/value 0.24419741027115915, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value 6, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1], :nextjournal/value 0.8369921718625681, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value 7, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [7 1], :nextjournal/value 0.39731610505899306, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value 8, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8 1], :nextjournal/value 0.0874636134283151, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value 9, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9 1], :nextjournal/value 0.051456869631971824, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [10], :nextjournal/value [{:path [10 0], :nextjournal/value 10, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [10 1], :nextjournal/value 0.6659829379267216, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [11], :nextjournal/value [{:path [11 0], :nextjournal/value 11, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [11 1], :nextjournal/value 0.6459206334316315, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [12], :nextjournal/value [{:path [12 0], :nextjournal/value 12, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [12 1], :nextjournal/value 0.24285600844131872, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [13], :nextjournal/value [{:path [13 0], :nextjournal/value 13, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [13 1], :nextjournal/value 0.14613556661985105, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [14], :nextjournal/value [{:path [14 0], :nextjournal/value 14, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [14 1], :nextjournal/value 0.65617917603238, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [15], :nextjournal/value [{:path [15 0], :nextjournal/value 15, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [15 1], :nextjournal/value 0.15432090376133845, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [16], :nextjournal/value [{:path [16 0], :nextjournal/value 16, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [16 1], :nextjournal/value 0.6019401365226819, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [17], :nextjournal/value [{:path [17 0], :nextjournal/value 17, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [17 1], :nextjournal/value 0.033713264347346894, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [18], :nextjournal/value [{:path [18 0], :nextjournal/value 18, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [18 1], :nextjournal/value 0.31276614030633454, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:path [19], :nextjournal/value [{:path [19 0], :nextjournal/value 19, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [19 1], :nextjournal/value 0.37270168864144426, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}} {:nextjournal/value {:count 99, :offset 20, :path [], :remaining 79}, :nextjournal/viewer {:name :elision, :render-fn #viewer-fn (fn [_] (v/html \\\"â€¦\\\"))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren \\\"]\\\", :fetch-opts {:n 20}}}, :head [:x :y], :path [:rows], :replace-path [0]}, :nextjournal/width :wide, :nextjournal/viewers ({:name :elision, :render-fn (fn [_] (v/html \\\"â€¦\\\")), :fetch-fn \\\"nextjournal.clerk.viewer/fetch-all\\\"} {:pred #{:nextjournal/missing}, :render-fn (fn [x] (v/html [:<>]))} {:pred \\\"clojure.core/string?--5427\\\", :render-fn v/string-viewer, :fetch-opts {:n 100}} {:pred \\\"clojure.core/number?\\\", :render-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}), :nextjournal/viewer {:name :table, :render-fn #viewer-fn v/table-viewer, :fetch-opts {:n 5}}}\", :nextjournal/viewer {:name :table}}, :path [], :nextjournal/width :wide, :nextjournal/viewers ({:name :elision, :render-fn (fn [_] (v/html \"â€¦\")), :fetch-fn \"nextjournal.clerk.viewer/fetch-all\"} {:pred #{:nextjournal/missing}, :render-fn (fn [x] (v/html [:<>]))} {:pred \"clojure.core/string?--5427\", :render-fn v/string-viewer, :fetch-opts {:n 100}} {:pred \"clojure.core/number?\", :render-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \"NaN\" (str x))]))})} {:nextjournal/value \" ## Main principles of plot creation\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ### Specifying data sources\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The `viz/data` function allows to specify the data source for a plot. Several options are supported:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"\\n a sequence of maps\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> (for [i (range 99)]\\n      {:x i\\n       :y (rand)})\\n    viz/data\\n    (viz/type \\\"point\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values ({:x 0, :y 0.9280623460266229} {:x 1, :y 0.900729083807892} {:x 2, :y 0.2794401294498893} {:x 3, :y 0.7679356834486524} {:x 4, :y 0.7735719027049538} {:x 5, :y 0.9572856678251888} {:x 6, :y 0.21972284757382898} {:x 7, :y 0.5779259783969465} {:x 8, :y 0.22224967194181988} {:x 9, :y 0.7625149075185939} {:x 10, :y 0.1896800077219163} {:x 11, :y 0.814462606587554} {:x 12, :y 0.6035574117781858} {:x 13, :y 0.350463729855495} {:x 14, :y 0.2099131292203429} {:x 15, :y 0.4606358039547266} {:x 16, :y 0.09845830497867814} {:x 17, :y 0.3639178519113402} {:x 18, :y 0.11926120887016545} {:x 19, :y 0.6785540204838647} {:x 20, :y 0.4695954408120202} {:x 21, :y 0.9176181345862159} {:x 22, :y 0.4837688555467262} {:x 23, :y 0.1468859438004736} {:x 24, :y 0.04813563354824635} {:x 25, :y 0.47431427202683785} {:x 26, :y 0.7173519075407566} {:x 27, :y 0.5724489435114812} {:x 28, :y 0.5545793111523544} {:x 29, :y 0.2408885892791398} {:x 30, :y 0.18921572826126254} {:x 31, :y 0.8972369290515977} {:x 32, :y 0.2654081961923844} {:x 33, :y 0.2216654461325377} {:x 34, :y 0.7307761372082937} {:x 35, :y 0.18028813456515325} {:x 36, :y 0.628262037120678} {:x 37, :y 0.6021543331827561} {:x 38, :y 0.7487787081563213} {:x 39, :y 0.9980512716539098} {:x 40, :y 0.6754067120625317} {:x 41, :y 0.5788581505101535} {:x 42, :y 0.10150716712685726} {:x 43, :y 0.4774166011262859} {:x 44, :y 0.4885757133301579} {:x 45, :y 0.09941007036478144} {:x 46, :y 0.0014172347801203466} {:x 47, :y 0.7523353376817923} {:x 48, :y 0.5278377579611031} {:x 49, :y 0.23218625993736275} {:x 50, :y 0.4702273786340717} {:x 51, :y 0.7179601569477021} {:x 52, :y 0.852963284420841} {:x 53, :y 0.04567358516576814} {:x 54, :y 0.2914430021586786} {:x 55, :y 0.4454956855060197} {:x 56, :y 0.1378332740171727} {:x 57, :y 0.945254792956944} {:x 58, :y 0.9804866582762541} {:x 59, :y 0.5164570396000056} {:x 60, :y 0.9067536129273783} {:x 61, :y 0.3887064463285367} {:x 62, :y 0.024051356224297438} {:x 63, :y 0.8367914173763258} {:x 64, :y 0.6061091135957168} {:x 65, :y 0.7815874522228671} {:x 66, :y 0.5279898537329886} {:x 67, :y 0.1993260488823193} {:x 68, :y 0.9656112564562829} {:x 69, :y 0.1398289115602358} {:x 70, :y 0.45699791977400217} {:x 71, :y 0.9772633367318765} {:x 72, :y 0.6004639610731075} {:x 73, :y 0.799219190775298} {:x 74, :y 0.8495450939422944} {:x 75, :y 0.8519521790871379} {:x 76, :y 0.9590924137785093} {:x 77, :y 0.050110207613770386} {:x 78, :y 0.7479513690532495} {:x 79, :y 0.4049215566442911} {:x 80, :y 0.530649870331033} {:x 81, :y 0.08055468317068315} {:x 82, :y 0.09620395898898881} {:x 83, :y 0.7371714519912268} {:x 84, :y 0.6923378177150163} {:x 85, :y 0.02221576703198136} {:x 86, :y 0.5270536325122058} {:x 87, :y 0.01797261247669457} {:x 88, :y 0.6986454868312136} {:x 89, :y 0.21077443348454938} {:x 90, :y 0.7851246976603834} {:x 91, :y 0.010935722396632208} {:x 92, :y 0.09293420578445455} {:x 93, :y 0.9961921868593846} {:x 94, :y 0.5142191585362206} {:x 95, :y 0.1768674037884742} {:x 96, :y 0.2563635264980558} {:x 97, :y 0.568069183046348} {:x 98, :y 0.2746899327173309})}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" a local file\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> (viz/data \\\"resources/data/mpg.csv\\\")\\n    (viz/type \\\"point\\\")\\n    (viz/x \\\"displ\\\")\\n    (viz/y \\\"hwy\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"hwy\\\", :type \\\"quantitative\\\"}, :x {:field \\\"displ\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"displ\\\", :type \\\"quantitative\\\"} {:field \\\"hwy\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values \\\"manufacturer,model,displ,year,cyl,trans,drv,cty,hwy,fl,class\\\\naudi,a4,1.8,1999,4,auto(l5),f,18,29,p,compact\\\\naudi,a4,1.8,1999,4,manual(m5),f,21,29,p,compact\\\\naudi,a4,2,2008,4,manual(m6),f,20,31,p,compact\\\\naudi,a4,2,2008,4,auto(av),f,21,30,p,compact\\\\naudi,a4,2.8,1999,6,auto(l5),f,16,26,p,compact\\\\naudi,a4,2.8,1999,6,manual(m5),f,18,26,p,compact\\\\naudi,a4,3.1,2008,6,auto(av),f,18,27,p,compact\\\\naudi,a4 quattro,1.8,1999,4,manual(m5),4,18,26,p,compact\\\\naudi,a4 quattro,1.8,1999,4,auto(l5),4,16,25,p,compact\\\\naudi,a4 quattro,2,2008,4,manual(m6),4,20,28,p,compact\\\\naudi,a4 quattro,2,2008,4,auto(s6),4,19,27,p,compact\\\\naudi,a4 quattro,2.8,1999,6,auto(l5),4,15,25,p,compact\\\\naudi,a4 quattro,2.8,1999,6,manual(m5),4,17,25,p,compact\\\\naudi,a4 quattro,3.1,2008,6,auto(s6),4,17,25,p,compact\\\\naudi,a4 quattro,3.1,2008,6,manual(m6),4,15,25,p,compact\\\\naudi,a6 quattro,2.8,1999,6,auto(l5),4,15,24,p,midsize\\\\naudi,a6 quattro,3.1,2008,6,auto(s6),4,17,25,p,midsize\\\\naudi,a6 quattro,4.2,2008,8,auto(s6),4,16,23,p,midsize\\\\nchevrolet,c1500 suburban 2wd,5.3,2008,8,auto(l4),r,14,20,r,suv\\\\nchevrolet,c1500 suburban 2wd,5.3,2008,8,auto(l4),r,11,15,e,suv\\\\nchevrolet,c1500 suburban 2wd,5.3,2008,8,auto(l4),r,14,20,r,suv\\\\nchevrolet,c1500 suburban 2wd,5.7,1999,8,auto(l4),r,13,17,r,suv\\\\nchevrolet,c1500 suburban 2wd,6,2008,8,auto(l4),r,12,17,r,suv\\\\nchevrolet,corvette,5.7,1999,8,manual(m6),r,16,26,p,2seater\\\\nchevrolet,corvette,5.7,1999,8,auto(l4),r,15,23,p,2seater\\\\nchevrolet,corvette,6.2,2008,8,manual(m6),r,16,26,p,2seater\\\\nchevrolet,corvette,6.2,2008,8,auto(s6),r,15,25,p,2seater\\\\nchevrolet,corvette,7,2008,8,manual(m6),r,15,24,p,2seater\\\\nchevrolet,k1500 tahoe 4wd,5.3,2008,8,auto(l4),4,14,19,r,suv\\\\nchevrolet,k1500 tahoe 4wd,5.3,2008,8,auto(l4),4,11,14,e,suv\\\\nchevrolet,k1500 tahoe 4wd,5.7,1999,8,auto(l4),4,11,15,r,suv\\\\nchevrolet,k1500 tahoe 4wd,6.5,1999,8,auto(l4),4,14,17,d,suv\\\\nchevrolet,malibu,2.4,1999,4,auto(l4),f,19,27,r,midsize\\\\nchevrolet,malibu,2.4,2008,4,auto(l4),f,22,30,r,midsize\\\\nchevrolet,malibu,3.1,1999,6,auto(l4),f,18,26,r,midsize\\\\nchevrolet,malibu,3.5,2008,6,auto(l4),f,18,29,r,midsize\\\\nchevrolet,malibu,3.6,2008,6,auto(s6),f,17,26,r,midsize\\\\ndodge,caravan 2wd,2.4,1999,4,auto(l3),f,18,24,r,minivan\\\\ndodge,caravan 2wd,3,1999,6,auto(l4),f,17,24,r,minivan\\\\ndodge,caravan 2wd,3.3,1999,6,auto(l4),f,16,22,r,minivan\\\\ndodge,caravan 2wd,3.3,1999,6,auto(l4),f,16,22,r,minivan\\\\ndodge,caravan 2wd,3.3,2008,6,auto(l4),f,17,24,r,minivan\\\\ndodge,caravan 2wd,3.3,2008,6,auto(l4),f,17,24,r,minivan\\\\ndodge,caravan 2wd,3.3,2008,6,auto(l4),f,11,17,e,minivan\\\\ndodge,caravan 2wd,3.8,1999,6,auto(l4),f,15,22,r,minivan\\\\ndodge,caravan 2wd,3.8,1999,6,auto(l4),f,15,21,r,minivan\\\\ndodge,caravan 2wd,3.8,2008,6,auto(l6),f,16,23,r,minivan\\\\ndodge,caravan 2wd,4,2008,6,auto(l6),f,16,23,r,minivan\\\\ndodge,dakota pickup 4wd,3.7,2008,6,manual(m6),4,15,19,r,pickup\\\\ndodge,dakota pickup 4wd,3.7,2008,6,auto(l4),4,14,18,r,pickup\\\\ndodge,dakota pickup 4wd,3.9,1999,6,auto(l4),4,13,17,r,pickup\\\\ndodge,dakota pickup 4wd,3.9,1999,6,manual(m5),4,14,17,r,pickup\\\\ndodge,dakota pickup 4wd,4.7,2008,8,auto(l5),4,14,19,r,pickup\\\\ndodge,dakota pickup 4wd,4.7,2008,8,auto(l5),4,14,19,r,pickup\\\\ndodge,dakota pickup 4wd,4.7,2008,8,auto(l5),4,9,12,e,pickup\\\\ndodge,dakota pickup 4wd,5.2,1999,8,manual(m5),4,11,17,r,pickup\\\\ndodge,dakota pickup 4wd,5.2,1999,8,auto(l4),4,11,15,r,pickup\\\\ndodge,durango 4wd,3.9,1999,6,auto(l4),4,13,17,r,suv\\\\ndodge,durango 4wd,4.7,2008,8,auto(l5),4,13,17,r,suv\\\\ndodge,durango 4wd,4.7,2008,8,auto(l5),4,9,12,e,suv\\\\ndodge,durango 4wd,4.7,2008,8,auto(l5),4,13,17,r,suv\\\\ndodge,durango 4wd,5.2,1999,8,auto(l4),4,11,16,r,suv\\\\ndodge,durango 4wd,5.7,2008,8,auto(l5),4,13,18,r,suv\\\\ndodge,durango 4wd,5.9,1999,8,auto(l4),4,11,15,r,suv\\\\ndodge,ram 1500 pickup 4wd,4.7,2008,8,manual(m6),4,12,16,r,pickup\\\\ndodge,ram 1500 pickup 4wd,4.7,2008,8,auto(l5),4,9,12,e,pickup\\\\ndodge,ram 1500 pickup 4wd,4.7,2008,8,auto(l5),4,13,17,r,pickup\\\\ndodge,ram 1500 pickup 4wd,4.7,2008,8,auto(l5),4,13,17,r,pickup\\\\ndodge,ram 1500 pickup 4wd,4.7,2008,8,manual(m6),4,12,16,r,pickup\\\\ndodge,ram 1500 pickup 4wd,4.7,2008,8,manual(m6),4,9,12,e,pickup\\\\ndodge,ram 1500 pickup 4wd,5.2,1999,8,auto(l4),4,11,15,r,pickup\\\\ndodge,ram 1500 pickup 4wd,5.2,1999,8,manual(m5),4,11,16,r,pickup\\\\ndodge,ram 1500 pickup 4wd,5.7,2008,8,auto(l5),4,13,17,r,pickup\\\\ndodge,ram 1500 pickup 4wd,5.9,1999,8,auto(l4),4,11,15,r,pickup\\\\nford,expedition 2wd,4.6,1999,8,auto(l4),r,11,17,r,suv\\\\nford,expedition 2wd,5.4,1999,8,auto(l4),r,11,17,r,suv\\\\nford,expedition 2wd,5.4,2008,8,auto(l6),r,12,18,r,suv\\\\nford,explorer 4wd,4,1999,6,auto(l5),4,14,17,r,suv\\\\nford,explorer 4wd,4,1999,6,manual(m5),4,15,19,r,suv\\\\nford,explorer 4wd,4,1999,6,auto(l5),4,14,17,r,suv\\\\nford,explorer 4wd,4,2008,6,auto(l5),4,13,19,r,suv\\\\nford,explorer 4wd,4.6,2008,8,auto(l6),4,13,19,r,suv\\\\nford,explorer 4wd,5,1999,8,auto(l4),4,13,17,r,suv\\\\nford,f150 pickup 4wd,4.2,1999,6,auto(l4),4,14,17,r,pickup\\\\nford,f150 pickup 4wd,4.2,1999,6,manual(m5),4,14,17,r,pickup\\\\nford,f150 pickup 4wd,4.6,1999,8,manual(m5),4,13,16,r,pickup\\\\nford,f150 pickup 4wd,4.6,1999,8,auto(l4),4,13,16,r,pickup\\\\nford,f150 pickup 4wd,4.6,2008,8,auto(l4),4,13,17,r,pickup\\\\nford,f150 pickup 4wd,5.4,1999,8,auto(l4),4,11,15,r,pickup\\\\nford,f150 pickup 4wd,5.4,2008,8,auto(l4),4,13,17,r,pickup\\\\nford,mustang,3.8,1999,6,manual(m5),r,18,26,r,subcompact\\\\nford,mustang,3.8,1999,6,auto(l4),r,18,25,r,subcompact\\\\nford,mustang,4,2008,6,manual(m5),r,17,26,r,subcompact\\\\nford,mustang,4,2008,6,auto(l5),r,16,24,r,subcompact\\\\nford,mustang,4.6,1999,8,auto(l4),r,15,21,r,subcompact\\\\nford,mustang,4.6,1999,8,manual(m5),r,15,22,r,subcompact\\\\nford,mustang,4.6,2008,8,manual(m5),r,15,23,r,subcompact\\\\nford,mustang,4.6,2008,8,auto(l5),r,15,22,r,subcompact\\\\nford,mustang,5.4,2008,8,manual(m6),r,14,20,p,subcompact\\\\nhonda,civic,1.6,1999,4,manual(m5),f,28,33,r,subcompact\\\\nhonda,civic,1.6,1999,4,auto(l4),f,24,32,r,subcompact\\\\nhonda,civic,1.6,1999,4,manual(m5),f,25,32,r,subcompact\\\\nhonda,civic,1.6,1999,4,manual(m5),f,23,29,p,subcompact\\\\nhonda,civic,1.6,1999,4,auto(l4),f,24,32,r,subcompact\\\\nhonda,civic,1.8,2008,4,manual(m5),f,26,34,r,subcompact\\\\nhonda,civic,1.8,2008,4,auto(l5),f,25,36,r,subcompact\\\\nhonda,civic,1.8,2008,4,auto(l5),f,24,36,c,subcompact\\\\nhonda,civic,2,2008,4,manual(m6),f,21,29,p,subcompact\\\\nhyundai,sonata,2.4,1999,4,auto(l4),f,18,26,r,midsize\\\\nhyundai,sonata,2.4,1999,4,manual(m5),f,18,27,r,midsize\\\\nhyundai,sonata,2.4,2008,4,auto(l4),f,21,30,r,midsize\\\\nhyundai,sonata,2.4,2008,4,manual(m5),f,21,31,r,midsize\\\\nhyundai,sonata,2.5,1999,6,auto(l4),f,18,26,r,midsize\\\\nhyundai,sonata,2.5,1999,6,manual(m5),f,18,26,r,midsize\\\\nhyundai,sonata,3.3,2008,6,auto(l5),f,19,28,r,midsize\\\\nhyundai,tiburon,2,1999,4,auto(l4),f,19,26,r,subcompact\\\\nhyundai,tiburon,2,1999,4,manual(m5),f,19,29,r,subcompact\\\\nhyundai,tiburon,2,2008,4,manual(m5),f,20,28,r,subcompact\\\\nhyundai,tiburon,2,2008,4,auto(l4),f,20,27,r,subcompact\\\\nhyundai,tiburon,2.7,2008,6,auto(l4),f,17,24,r,subcompact\\\\nhyundai,tiburon,2.7,2008,6,manual(m6),f,16,24,r,subcompact\\\\nhyundai,tiburon,2.7,2008,6,manual(m5),f,17,24,r,subcompact\\\\njeep,grand cherokee 4wd,3,2008,6,auto(l5),4,17,22,d,suv\\\\njeep,grand cherokee 4wd,3.7,2008,6,auto(l5),4,15,19,r,suv\\\\njeep,grand cherokee 4wd,4,1999,6,auto(l4),4,15,20,r,suv\\\\njeep,grand cherokee 4wd,4.7,1999,8,auto(l4),4,14,17,r,suv\\\\njeep,grand cherokee 4wd,4.7,2008,8,auto(l5),4,9,12,e,suv\\\\njeep,grand cherokee 4wd,4.7,2008,8,auto(l5),4,14,19,r,suv\\\\njeep,grand cherokee 4wd,5.7,2008,8,auto(l5),4,13,18,r,suv\\\\njeep,grand cherokee 4wd,6.1,2008,8,auto(l5),4,11,14,p,suv\\\\nland rover,range rover,4,1999,8,auto(l4),4,11,15,p,suv\\\\nland rover,range rover,4.2,2008,8,auto(s6),4,12,18,r,suv\\\\nland rover,range rover,4.4,2008,8,auto(s6),4,12,18,r,suv\\\\nland rover,range rover,4.6,1999,8,auto(l4),4,11,15,p,suv\\\\nlincoln,navigator 2wd,5.4,1999,8,auto(l4),r,11,17,r,suv\\\\nlincoln,navigator 2wd,5.4,1999,8,auto(l4),r,11,16,p,suv\\\\nlincoln,navigator 2wd,5.4,2008,8,auto(l6),r,12,18,r,suv\\\\nmercury,mountaineer 4wd,4,1999,6,auto(l5),4,14,17,r,suv\\\\nmercury,mountaineer 4wd,4,2008,6,auto(l5),4,13,19,r,suv\\\\nmercury,mountaineer 4wd,4.6,2008,8,auto(l6),4,13,19,r,suv\\\\nmercury,mountaineer 4wd,5,1999,8,auto(l4),4,13,17,r,suv\\\\nnissan,altima,2.4,1999,4,manual(m5),f,21,29,r,compact\\\\nnissan,altima,2.4,1999,4,auto(l4),f,19,27,r,compact\\\\nnissan,altima,2.5,2008,4,auto(av),f,23,31,r,midsize\\\\nnissan,altima,2.5,2008,4,manual(m6),f,23,32,r,midsize\\\\nnissan,altima,3.5,2008,6,manual(m6),f,19,27,p,midsize\\\\nnissan,altima,3.5,2008,6,auto(av),f,19,26,p,midsize\\\\nnissan,maxima,3,1999,6,auto(l4),f,18,26,r,midsize\\\\nnissan,maxima,3,1999,6,manual(m5),f,19,25,r,midsize\\\\nnissan,maxima,3.5,2008,6,auto(av),f,19,25,p,midsize\\\\nnissan,pathfinder 4wd,3.3,1999,6,auto(l4),4,14,17,r,suv\\\\nnissan,pathfinder 4wd,3.3,1999,6,manual(m5),4,15,17,r,suv\\\\nnissan,pathfinder 4wd,4,2008,6,auto(l5),4,14,20,p,suv\\\\nnissan,pathfinder 4wd,5.6,2008,8,auto(s5),4,12,18,p,suv\\\\npontiac,grand prix,3.1,1999,6,auto(l4),f,18,26,r,midsize\\\\npontiac,grand prix,3.8,1999,6,auto(l4),f,16,26,p,midsize\\\\npontiac,grand prix,3.8,1999,6,auto(l4),f,17,27,r,midsize\\\\npontiac,grand prix,3.8,2008,6,auto(l4),f,18,28,r,midsize\\\\npontiac,grand prix,5.3,2008,8,auto(s4),f,16,25,p,midsize\\\\nsubaru,forester awd,2.5,1999,4,manual(m5),4,18,25,r,suv\\\\nsubaru,forester awd,2.5,1999,4,auto(l4),4,18,24,r,suv\\\\nsubaru,forester awd,2.5,2008,4,manual(m5),4,20,27,r,suv\\\\nsubaru,forester awd,2.5,2008,4,manual(m5),4,19,25,p,suv\\\\nsubaru,forester awd,2.5,2008,4,auto(l4),4,20,26,r,suv\\\\nsubaru,forester awd,2.5,2008,4,auto(l4),4,18,23,p,suv\\\\nsubaru,impreza awd,2.2,1999,4,auto(l4),4,21,26,r,subcompact\\\\nsubaru,impreza awd,2.2,1999,4,manual(m5),4,19,26,r,subcompact\\\\nsubaru,impreza awd,2.5,1999,4,manual(m5),4,19,26,r,subcompact\\\\nsubaru,impreza awd,2.5,1999,4,auto(l4),4,19,26,r,subcompact\\\\nsubaru,impreza awd,2.5,2008,4,auto(s4),4,20,25,p,compact\\\\nsubaru,impreza awd,2.5,2008,4,auto(s4),4,20,27,r,compact\\\\nsubaru,impreza awd,2.5,2008,4,manual(m5),4,19,25,p,compact\\\\nsubaru,impreza awd,2.5,2008,4,manual(m5),4,20,27,r,compact\\\\ntoyota,4runner 4wd,2.7,1999,4,manual(m5),4,15,20,r,suv\\\\ntoyota,4runner 4wd,2.7,1999,4,auto(l4),4,16,20,r,suv\\\\ntoyota,4runner 4wd,3.4,1999,6,auto(l4),4,15,19,r,suv\\\\ntoyota,4runner 4wd,3.4,1999,6,manual(m5),4,15,17,r,suv\\\\ntoyota,4runner 4wd,4,2008,6,auto(l5),4,16,20,r,suv\\\\ntoyota,4runner 4wd,4.7,2008,8,auto(l5),4,14,17,r,suv\\\\ntoyota,camry,2.2,1999,4,manual(m5),f,21,29,r,midsize\\\\ntoyota,camry,2.2,1999,4,auto(l4),f,21,27,r,midsize\\\\ntoyota,camry,2.4,2008,4,manual(m5),f,21,31,r,midsize\\\\ntoyota,camry,2.4,2008,4,auto(l5),f,21,31,r,midsize\\\\ntoyota,camry,3,1999,6,auto(l4),f,18,26,r,midsize\\\\ntoyota,camry,3,1999,6,manual(m5),f,18,26,r,midsize\\\\ntoyota,camry,3.5,2008,6,auto(s6),f,19,28,r,midsize\\\\ntoyota,camry solara,2.2,1999,4,auto(l4),f,21,27,r,compact\\\\ntoyota,camry solara,2.2,1999,4,manual(m5),f,21,29,r,compact\\\\ntoyota,camry solara,2.4,2008,4,manual(m5),f,21,31,r,compact\\\\ntoyota,camry solara,2.4,2008,4,auto(s5),f,22,31,r,compact\\\\ntoyota,camry solara,3,1999,6,auto(l4),f,18,26,r,compact\\\\ntoyota,camry solara,3,1999,6,manual(m5),f,18,26,r,compact\\\\ntoyota,camry solara,3.3,2008,6,auto(s5),f,18,27,r,compact\\\\ntoyota,corolla,1.8,1999,4,auto(l3),f,24,30,r,compact\\\\ntoyota,corolla,1.8,1999,4,auto(l4),f,24,33,r,compact\\\\ntoyota,corolla,1.8,1999,4,manual(m5),f,26,35,r,compact\\\\ntoyota,corolla,1.8,2008,4,manual(m5),f,28,37,r,compact\\\\ntoyota,corolla,1.8,2008,4,auto(l4),f,26,35,r,compact\\\\ntoyota,land cruiser wagon 4wd,4.7,1999,8,auto(l4),4,11,15,r,suv\\\\ntoyota,land cruiser wagon 4wd,5.7,2008,8,auto(s6),4,13,18,r,suv\\\\ntoyota,toyota tacoma 4wd,2.7,1999,4,manual(m5),4,15,20,r,pickup\\\\ntoyota,toyota tacoma 4wd,2.7,1999,4,auto(l4),4,16,20,r,pickup\\\\ntoyota,toyota tacoma 4wd,2.7,2008,4,manual(m5),4,17,22,r,pickup\\\\ntoyota,toyota tacoma 4wd,3.4,1999,6,manual(m5),4,15,17,r,pickup\\\\ntoyota,toyota tacoma 4wd,3.4,1999,6,auto(l4),4,15,19,r,pickup\\\\ntoyota,toyota tacoma 4wd,4,2008,6,manual(m6),4,15,18,r,pickup\\\\ntoyota,toyota tacoma 4wd,4,2008,6,auto(l5),4,16,20,r,pickup\\\\nvolkswagen,gti,2,1999,4,manual(m5),f,21,29,r,compact\\\\nvolkswagen,gti,2,1999,4,auto(l4),f,19,26,r,compact\\\\nvolkswagen,gti,2,2008,4,manual(m6),f,21,29,p,compact\\\\nvolkswagen,gti,2,2008,4,auto(s6),f,22,29,p,compact\\\\nvolkswagen,gti,2.8,1999,6,manual(m5),f,17,24,r,compact\\\\nvolkswagen,jetta,1.9,1999,4,manual(m5),f,33,44,d,compact\\\\nvolkswagen,jetta,2,1999,4,manual(m5),f,21,29,r,compact\\\\nvolkswagen,jetta,2,1999,4,auto(l4),f,19,26,r,compact\\\\nvolkswagen,jetta,2,2008,4,auto(s6),f,22,29,p,compact\\\\nvolkswagen,jetta,2,2008,4,manual(m6),f,21,29,p,compact\\\\nvolkswagen,jetta,2.5,2008,5,auto(s6),f,21,29,r,compact\\\\nvolkswagen,jetta,2.5,2008,5,manual(m5),f,21,29,r,compact\\\\nvolkswagen,jetta,2.8,1999,6,auto(l4),f,16,23,r,compact\\\\nvolkswagen,jetta,2.8,1999,6,manual(m5),f,17,24,r,compact\\\\nvolkswagen,new beetle,1.9,1999,4,manual(m5),f,35,44,d,subcompact\\\\nvolkswagen,new beetle,1.9,1999,4,auto(l4),f,29,41,d,subcompact\\\\nvolkswagen,new beetle,2,1999,4,manual(m5),f,21,29,r,subcompact\\\\nvolkswagen,new beetle,2,1999,4,auto(l4),f,19,26,r,subcompact\\\\nvolkswagen,new beetle,2.5,2008,5,manual(m5),f,20,28,r,subcompact\\\\nvolkswagen,new beetle,2.5,2008,5,auto(s6),f,20,29,r,subcompact\\\\nvolkswagen,passat,1.8,1999,4,manual(m5),f,21,29,p,midsize\\\\nvolkswagen,passat,1.8,1999,4,auto(l5),f,18,29,p,midsize\\\\nvolkswagen,passat,2,2008,4,auto(s6),f,19,28,p,midsize\\\\nvolkswagen,passat,2,2008,4,manual(m6),f,21,29,p,midsize\\\\nvolkswagen,passat,2.8,1999,6,auto(l5),f,16,26,p,midsize\\\\nvolkswagen,passat,2.8,1999,6,manual(m5),f,18,26,p,midsize\\\\nvolkswagen,passat,3.6,2008,6,auto(s6),f,17,26,p,midsize\\\\n\\\", :format {:viz/type \\\"csv\\\"}}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" a file on the web\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> \\\"https://vega.github.io/vega-lite/data/penguins.json\\\"\\n    viz/data\\n    (viz/x \\\"Beak Length (mm)\\\")\\n    (viz/y \\\"Beak Depth (mm)\\\")\\n    (viz/type \\\"point\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"Beak Depth (mm)\\\", :type \\\"quantitative\\\"}, :x {:field \\\"Beak Length (mm)\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"Beak Length (mm)\\\", :type \\\"quantitative\\\"} {:field \\\"Beak Depth (mm)\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:url \\\"https://vega.github.io/vega-lite/data/penguins.json\\\"}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" a dataset (of tech.ml.dataset / Tablecloth)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/type \\\"point\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.41689937683858347} {:x 1, :y 0.2620822701401394} {:x 2, :y 0.7233303811493942} {:x 3, :y 0.724135078492632} {:x 4, :y 0.045807891011932944} {:x 5, :y 0.6032865562386228} {:x 6, :y 0.6727193373233794} {:x 7, :y 0.47296085279566225} {:x 8, :y 0.4696464225449539} {:x 9, :y 0.6765076375914982} {:x 10, :y 0.5516288152438766} {:x 11, :y 0.5722248464654102} {:x 12, :y 0.7900056006685646} {:x 13, :y 0.02136949046211034} {:x 14, :y 0.7266759536843584} {:x 15, :y 0.24277422459892906} {:x 16, :y 0.8361788135713154} {:x 17, :y 0.698492797362072} {:x 18, :y 0.3234922941357289} {:x 19, :y 0.2660574105584176} {:x 20, :y 0.08637504108328331} {:x 21, :y 0.009483861382638126} {:x 22, :y 0.1845164037478868} {:x 23, :y 0.1887707178265584} {:x 24, :y 0.23845362522340685} {:x 25, :y 0.19259419490491048} {:x 26, :y 0.9895070813556109} {:x 27, :y 0.17811783905900302} {:x 28, :y 0.6638540168283186} {:x 29, :y 0.8328510859704263} {:x 30, :y 0.4409073592840518} {:x 31, :y 0.7044704116488597} {:x 32, :y 0.885619985548554} {:x 33, :y 0.484248153565371} {:x 34, :y 0.5890411110100516} {:x 35, :y 0.877632243904979} {:x 36, :y 0.9098947981382675} {:x 37, :y 0.7916239151201612} {:x 38, :y 0.8262252050781896} {:x 39, :y 0.44357335957423694} {:x 40, :y 0.7099897723460564} {:x 41, :y 0.2211458397619338} {:x 42, :y 0.8142324927660557} {:x 43, :y 0.16041487216930395} {:x 44, :y 0.4131059191334222} {:x 45, :y 0.36085617639691414} {:x 46, :y 0.6261415751353878} {:x 47, :y 0.5156086008455729} {:x 48, :y 0.7720143227878001} {:x 49, :y 0.6365245778857204} {:x 50, :y 0.6814613637358645} {:x 51, :y 0.5206707865546881} {:x 52, :y 0.31747803975870026} {:x 53, :y 0.20309239840141802} {:x 54, :y 0.6325201998118545} {:x 55, :y 0.6254920454810445} {:x 56, :y 0.181923970321614} {:x 57, :y 0.7182819128243824} {:x 58, :y 0.22046040157372004} {:x 59, :y 0.6311605300098181} {:x 60, :y 0.9608510381506232} {:x 61, :y 0.6824829640143713} {:x 62, :y 0.26078071532377756} {:x 63, :y 0.8483993095587488} {:x 64, :y 0.13568624377853944} {:x 65, :y 0.03781880684015537} {:x 66, :y 0.34122117946692465} {:x 67, :y 0.648132532554261} {:x 68, :y 0.5202776412249422} {:x 69, :y 0.7593316803011123} {:x 70, :y 0.5188860444839032} {:x 71, :y 0.9813595810698067} {:x 72, :y 0.9129393272896964} {:x 73, :y 0.24251795892581318} {:x 74, :y 0.28885183379523705} {:x 75, :y 0.40743013971148345} {:x 76, :y 0.6369405292293595} {:x 77, :y 0.3939815687985263} {:x 78, :y 0.3631098122297418} {:x 79, :y 0.6629771368317079} {:x 80, :y 0.9345568021984278} {:x 81, :y 0.46576367062121815} {:x 82, :y 0.34654294946941544} {:x 83, :y 0.8281790727911077} {:x 84, :y 0.24327882555096914} {:x 85, :y 0.8389453690847536} {:x 86, :y 0.22573957777918385} {:x 87, :y 0.7026863747197258} {:x 88, :y 0.2274998746926351} {:x 89, :y 0.1584095369868469} {:x 90, :y 0.6967973348886255} {:x 91, :y 0.09046168632978202} {:x 92, :y 0.06498033382816337} {:x 93, :y 0.44818687972853055} {:x 94, :y 0.7498723097245326} {:x 95, :y 0.3109468848506193} {:x 96, :y 0.8946137138400152} {:x 97, :y 0.09560005144086192} {:x 98, :y 0.6010803754606857}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" ### Connecting aesthetics to data\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" x axis\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:w (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/x :w)\\n    (viz/type \\\"point\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field :w, :type \\\"quantitative\\\"}, :tooltip [{:field :w, :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:w 0, :y 0.4033844364288143} {:w 1, :y 0.5204957093281087} {:w 2, :y 0.8824594134518924} {:w 3, :y 0.016458623508212256} {:w 4, :y 0.17178469964793075} {:w 5, :y 0.437023604562211} {:w 6, :y 0.5628523957055251} {:w 7, :y 0.3080470474068} {:w 8, :y 0.42994436650440127} {:w 9, :y 0.9907308893866348} {:w 10, :y 0.8396077066699065} {:w 11, :y 0.7987515891929722} {:w 12, :y 0.5490859409492945} {:w 13, :y 0.02678759238465178} {:w 14, :y 0.975305017659587} {:w 15, :y 0.3505017071000457} {:w 16, :y 0.6851015531798257} {:w 17, :y 0.6815740071245429} {:w 18, :y 0.6887393292731686} {:w 19, :y 0.6293166960250695} {:w 20, :y 0.868049205250741} {:w 21, :y 0.07746179388466967} {:w 22, :y 0.4340386052407731} {:w 23, :y 0.1412471921446825} {:w 24, :y 0.47346296865816395} {:w 25, :y 0.5519130014784702} {:w 26, :y 0.6371721061800828} {:w 27, :y 0.7147590424735702} {:w 28, :y 0.463202882896666} {:w 29, :y 0.7102343418695153} {:w 30, :y 0.9733763050641625} {:w 31, :y 0.027979237686841407} {:w 32, :y 0.18298479916242616} {:w 33, :y 0.02980015521089474} {:w 34, :y 0.3090636337775605} {:w 35, :y 0.9833241072762569} {:w 36, :y 0.43439368525522937} {:w 37, :y 0.9632846681980802} {:w 38, :y 0.5030691887813503} {:w 39, :y 0.21738260260262798} {:w 40, :y 0.0010987726392188701} {:w 41, :y 0.4894200049054169} {:w 42, :y 0.864629052599872} {:w 43, :y 0.8005282223293416} {:w 44, :y 0.802152478830302} {:w 45, :y 0.8420239368157552} {:w 46, :y 0.6992730037329038} {:w 47, :y 0.22858508041755243} {:w 48, :y 0.3696691553332395} {:w 49, :y 0.7115165342369365} {:w 50, :y 0.03885364365202515} {:w 51, :y 0.13797522961134734} {:w 52, :y 0.40384406542817564} {:w 53, :y 0.5578732032563632} {:w 54, :y 0.34822294852648517} {:w 55, :y 0.7861256629434518} {:w 56, :y 0.7451866633326911} {:w 57, :y 0.7999362211827322} {:w 58, :y 0.728606178759405} {:w 59, :y 0.23051524181267835} {:w 60, :y 0.22200668695518788} {:w 61, :y 0.5532353739509177} {:w 62, :y 0.8965123387297944} {:w 63, :y 0.3125931581466852} {:w 64, :y 0.48060528559125304} {:w 65, :y 0.2769430367285759} {:w 66, :y 0.0070594060855337926} {:w 67, :y 0.00690211552111053} {:w 68, :y 0.08628775240344644} {:w 69, :y 0.16031725102450023} {:w 70, :y 0.21188144882529025} {:w 71, :y 0.431091388672738} {:w 72, :y 0.8952284656923694} {:w 73, :y 0.3299615559539566} {:w 74, :y 0.6943239960804586} {:w 75, :y 0.829105549184147} {:w 76, :y 0.9403821690978339} {:w 77, :y 0.9914579221855229} {:w 78, :y 0.8084230140140322} {:w 79, :y 0.13768742900320574} {:w 80, :y 0.8490509741376219} {:w 81, :y 0.4324047931406081} {:w 82, :y 0.8632019788243369} {:w 83, :y 0.3254343178409175} {:w 84, :y 0.11537908285747878} {:w 85, :y 0.40861983354273523} {:w 86, :y 0.040110357640634864} {:w 87, :y 0.5539988363069435} {:w 88, :y 0.3879624192360458} {:w 89, :y 0.8112424375006756} {:w 90, :y 0.908966228996725} {:w 91, :y 0.35262677291140543} {:w 92, :y 0.3009238785314554} {:w 93, :y 0.6696985590850816} {:w 94, :y 0.016554590573776395} {:w 95, :y 0.42007642981889626} {:w 96, :y 0.2762189593441554} {:w 97, :y 0.48396630233439186} {:w 98, :y 0.062071917677431254}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" y axis\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :z (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/y :z)\\n    (viz/type \\\"point\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field :z, :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field :z, :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :z 0.3720648731665236} {:x 1, :z 0.15560107419854252} {:x 2, :z 0.5993077909242803} {:x 3, :z 0.24489700477644305} {:x 4, :z 0.7377386855671056} {:x 5, :z 0.48258917198411844} {:x 6, :z 0.8376089398850793} {:x 7, :z 0.472706435055377} {:x 8, :z 0.7752679869255279} {:x 9, :z 0.7479449381390612} {:x 10, :z 0.8816956757939433} {:x 11, :z 0.25174305524628815} {:x 12, :z 0.2245140107087672} {:x 13, :z 0.9365807543485537} {:x 14, :z 0.9724716312043229} {:x 15, :z 0.24608394912048315} {:x 16, :z 0.9438227092525504} {:x 17, :z 0.2694835289238482} {:x 18, :z 0.32344862702433474} {:x 19, :z 0.6890440898131917} {:x 20, :z 0.48834721016499016} {:x 21, :z 0.12115372014674974} {:x 22, :z 0.2832182471875102} {:x 23, :z 0.0573907989412219} {:x 24, :z 0.07890507575977268} {:x 25, :z 0.7112228461673541} {:x 26, :z 0.6836391025650348} {:x 27, :z 0.6778329304017524} {:x 28, :z 0.08322634275991092} {:x 29, :z 0.3183269237629702} {:x 30, :z 0.9999909591245875} {:x 31, :z 0.22528804406504765} {:x 32, :z 0.08555115601869889} {:x 33, :z 0.44497718717069346} {:x 34, :z 0.9190735155275136} {:x 35, :z 0.39371988992889684} {:x 36, :z 0.855886287004392} {:x 37, :z 0.5740837629461589} {:x 38, :z 0.662204272574486} {:x 39, :z 0.3728773313914385} {:x 40, :z 0.04683250504459713} {:x 41, :z 0.900951793504607} {:x 42, :z 0.9422962984333} {:x 43, :z 0.14805523158678602} {:x 44, :z 0.2437451466747319} {:x 45, :z 0.6989835259232603} {:x 46, :z 0.747673429963292} {:x 47, :z 0.055036572418118546} {:x 48, :z 0.07309276132937348} {:x 49, :z 0.7829843521447436} {:x 50, :z 0.24000680172981392} {:x 51, :z 0.46866439391088344} {:x 52, :z 0.4342298535795215} {:x 53, :z 0.8708843906176625} {:x 54, :z 0.9297336035605508} {:x 55, :z 0.9810311824282595} {:x 56, :z 0.5614012365885976} {:x 57, :z 0.512851353252833} {:x 58, :z 0.9495448316927094} {:x 59, :z 0.9340621150432393} {:x 60, :z 0.5456472243249413} {:x 61, :z 0.6561848026352984} {:x 62, :z 0.6850060806959712} {:x 63, :z 0.7113078588069716} {:x 64, :z 0.1503804040961323} {:x 65, :z 0.845045623346997} {:x 66, :z 0.24110145612273237} {:x 67, :z 0.7650519807565251} {:x 68, :z 0.23975653789899354} {:x 69, :z 0.5159887703133343} {:x 70, :z 0.22446758719943882} {:x 71, :z 0.9573762998775921} {:x 72, :z 0.9055628849029251} {:x 73, :z 0.8434313563297378} {:x 74, :z 0.10331103941813169} {:x 75, :z 0.42761734338436186} {:x 76, :z 0.42620016655644444} {:x 77, :z 0.11360213877010894} {:x 78, :z 0.9704791818946014} {:x 79, :z 0.8636858786989847} {:x 80, :z 0.5204345631419364} {:x 81, :z 0.6611828493581421} {:x 82, :z 0.8798809789684378} {:x 83, :z 0.7510101287728961} {:x 84, :z 0.9689484236825179} {:x 85, :z 0.9897653290971874} {:x 86, :z 0.05243081597487276} {:x 87, :z 0.9004031575020996} {:x 88, :z 0.5683201375209145} {:x 89, :z 0.8154130499579992} {:x 90, :z 0.15491512680238684} {:x 91, :z 0.31494341134393866} {:x 92, :z 0.5549144682131216} {:x 93, :z 0.4220293140595508} {:x 94, :z 0.5436578187287641} {:x 95, :z 0.24599629608210682} {:x 96, :z 0.09026686848706467} {:x 97, :z 0.8978984864448252} {:x 98, :z 0.8345875099968363}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" color\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/color :x)\\n    (viz/type \\\"point\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :color {:field \\\"x\\\", :type \\\"nominal\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.10979452025378267} {:x 1, :y 0.13489634571106024} {:x 2, :y 0.5346809795464588} {:x 3, :y 0.4122857536206752} {:x 4, :y 0.7885330817399628} {:x 5, :y 0.054083521069317575} {:x 6, :y 0.9133064719866508} {:x 7, :y 0.5228222667242266} {:x 8, :y 0.7237244896827898} {:x 9, :y 0.5970016107952443} {:x 10, :y 0.9756238757292025} {:x 11, :y 0.4086595709179309} {:x 12, :y 0.12459856703449623} {:x 13, :y 0.46968995740843866} {:x 14, :y 0.686331072415181} {:x 15, :y 0.5386361655762716} {:x 16, :y 0.5606202958648945} {:x 17, :y 0.582711171438093} {:x 18, :y 0.7266208573455769} {:x 19, :y 0.36201364243122436} {:x 20, :y 0.18473842454068312} {:x 21, :y 0.19593431192546107} {:x 22, :y 0.029144078297470344} {:x 23, :y 0.17280010932917467} {:x 24, :y 0.8427660887728876} {:x 25, :y 0.6057386715460741} {:x 26, :y 0.8633048778376071} {:x 27, :y 0.6090386120098332} {:x 28, :y 0.364334593471066} {:x 29, :y 0.7240335235136464} {:x 30, :y 0.6105670019881444} {:x 31, :y 0.031475595907279885} {:x 32, :y 0.40214967480411445} {:x 33, :y 0.8838413892368994} {:x 34, :y 0.3313639822769434} {:x 35, :y 0.527001654809352} {:x 36, :y 0.2888192453995989} {:x 37, :y 0.4727937032190408} {:x 38, :y 0.7183706903516011} {:x 39, :y 0.5644825600621959} {:x 40, :y 0.5143105403388354} {:x 41, :y 0.5437391087893553} {:x 42, :y 0.05530690536549099} {:x 43, :y 0.3940759821157578} {:x 44, :y 0.5921333682733919} {:x 45, :y 0.3807666109837313} {:x 46, :y 0.35610852172015517} {:x 47, :y 0.1258548888992702} {:x 48, :y 0.27863565016414127} {:x 49, :y 0.10929710014147875} {:x 50, :y 0.9462154759078801} {:x 51, :y 0.04953631140342385} {:x 52, :y 0.33733622691963483} {:x 53, :y 0.8304982505302915} {:x 54, :y 0.3658895915130491} {:x 55, :y 0.16433966969000047} {:x 56, :y 0.2990090647665128} {:x 57, :y 0.4331296266601524} {:x 58, :y 0.6248901371857967} {:x 59, :y 0.07647610115799375} {:x 60, :y 0.9582719619802715} {:x 61, :y 0.19002620613880883} {:x 62, :y 0.5184980562479647} {:x 63, :y 0.3914966195644526} {:x 64, :y 0.6687220947736549} {:x 65, :y 0.48178003310144546} {:x 66, :y 0.9267947622790358} {:x 67, :y 0.47970314348186227} {:x 68, :y 0.8511996525369289} {:x 69, :y 0.5067815739327922} {:x 70, :y 0.7622649435124141} {:x 71, :y 0.02505385237982216} {:x 72, :y 0.5135497906795352} {:x 73, :y 0.6346336035167738} {:x 74, :y 0.5052069471034292} {:x 75, :y 0.08146958968465634} {:x 76, :y 0.9952927839837075} {:x 77, :y 0.13905205927128605} {:x 78, :y 0.07209864978070835} {:x 79, :y 0.45517620139120796} {:x 80, :y 0.5969001359559705} {:x 81, :y 0.40671997863168785} {:x 82, :y 0.09898028058547403} {:x 83, :y 0.10769262189685225} {:x 84, :y 0.2309149008957535} {:x 85, :y 0.36016229402916566} {:x 86, :y 0.5900803814898178} {:x 87, :y 0.9313024392852505} {:x 88, :y 0.7409423749840393} {:x 89, :y 0.7555604507344275} {:x 90, :y 0.28132452887465487} {:x 91, :y 0.687322270592017} {:x 92, :y 0.07457706607625281} {:x 93, :y 0.22052769949378181} {:x 94, :y 0.9990307985127241} {:x 95, :y 0.11720753224631819} {:x 96, :y 0.06762055333602301} {:x 97, :y 0.38221740988879427} {:x 98, :y 0.7560102255627049}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" size\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/size :x)\\n    (viz/type \\\"point\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :size {:field \\\"x\\\", :type \\\"nominal\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.2375122408785213} {:x 1, :y 0.1994840172884773} {:x 2, :y 0.20273820943024978} {:x 3, :y 0.32045400368387167} {:x 4, :y 0.6119463366711178} {:x 5, :y 0.313458500675477} {:x 6, :y 0.6867014010695122} {:x 7, :y 0.5174038357787971} {:x 8, :y 0.9572504337107267} {:x 9, :y 0.9605746056026199} {:x 10, :y 0.45482782886626094} {:x 11, :y 0.5782654280879593} {:x 12, :y 0.7843347783438649} {:x 13, :y 0.7220626541810985} {:x 14, :y 0.28789238803178985} {:x 15, :y 0.44073963595262433} {:x 16, :y 0.9021050174299151} {:x 17, :y 0.5929634888204355} {:x 18, :y 0.6368867380294865} {:x 19, :y 0.01970940558939327} {:x 20, :y 0.518625004644279} {:x 21, :y 0.268228855904447} {:x 22, :y 0.26813155523118837} {:x 23, :y 0.11903482729164594} {:x 24, :y 0.36274246011347977} {:x 25, :y 0.9626896713580055} {:x 26, :y 0.6661717605262572} {:x 27, :y 0.8348731576769959} {:x 28, :y 0.7190304825453105} {:x 29, :y 0.21755935060382914} {:x 30, :y 0.552639610306155} {:x 31, :y 0.01305377889529924} {:x 32, :y 0.5198740412443192} {:x 33, :y 0.9986784989711924} {:x 34, :y 0.8958716593254284} {:x 35, :y 0.5662031236623211} {:x 36, :y 0.670757659632737} {:x 37, :y 0.2754963782347246} {:x 38, :y 0.08391810470384253} {:x 39, :y 0.23072795580535932} {:x 40, :y 0.5982864857691531} {:x 41, :y 0.18482337770693746} {:x 42, :y 0.5126834298134058} {:x 43, :y 0.6494298879195965} {:x 44, :y 0.6051999597378597} {:x 45, :y 0.8296784013745504} {:x 46, :y 0.701289861621445} {:x 47, :y 0.5024376588832418} {:x 48, :y 0.992613544531504} {:x 49, :y 0.7410932070667788} {:x 50, :y 0.18835595662668791} {:x 51, :y 0.7773082874061517} {:x 52, :y 0.06695082727298252} {:x 53, :y 0.03952556292781606} {:x 54, :y 0.8857347978756702} {:x 55, :y 0.16856178163614388} {:x 56, :y 0.08750449942419225} {:x 57, :y 0.3725720873383853} {:x 58, :y 0.2703572109784861} {:x 59, :y 0.027578466863614648} {:x 60, :y 0.9302917930265856} {:x 61, :y 0.7769600344098567} {:x 62, :y 0.7801775641487078} {:x 63, :y 0.24570191204849634} {:x 64, :y 0.7448458882558654} {:x 65, :y 0.715337328334387} {:x 66, :y 0.046821079514294484} {:x 67, :y 0.9465545170928026} {:x 68, :y 0.1628119402317444} {:x 69, :y 0.6721682450359684} {:x 70, :y 0.14538280593557196} {:x 71, :y 0.8879869919912} {:x 72, :y 0.6806926437432457} {:x 73, :y 0.8580821183286206} {:x 74, :y 0.8709304558983854} {:x 75, :y 0.029746784077552157} {:x 76, :y 0.6838148107199326} {:x 77, :y 0.76831062956239} {:x 78, :y 0.16161480491730884} {:x 79, :y 0.8098648250122176} {:x 80, :y 0.20456506828348886} {:x 81, :y 0.5683890666935872} {:x 82, :y 0.17989238069230107} {:x 83, :y 0.2909240149638368} {:x 84, :y 0.915169405645245} {:x 85, :y 0.5390854604228639} {:x 86, :y 0.2362175340529422} {:x 87, :y 0.4867865929269307} {:x 88, :y 0.043767697357305346} {:x 89, :y 0.10256083746820921} {:x 90, :y 0.6936619277825397} {:x 91, :y 0.8610219576606425} {:x 92, :y 0.872261074722015} {:x 93, :y 0.27305288639495573} {:x 94, :y 0.22727125281529748} {:x 95, :y 0.20019070926473592} {:x 96, :y 0.22538639126084958} {:x 97, :y 0.727914214019551} {:x 98, :y 0.32857073467721853}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" ### Customizing mark properties\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" color\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/type \\\"point\\\")\\n    (viz/mark-color \\\"purple\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\", :color \\\"purple\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.8083040361765623} {:x 1, :y 0.8926988218009944} {:x 2, :y 0.07862560177883682} {:x 3, :y 0.7434820707443511} {:x 4, :y 0.24319234135364098} {:x 5, :y 0.23861989428154662} {:x 6, :y 0.336443774774691} {:x 7, :y 0.6110166588620722} {:x 8, :y 0.6211809941300654} {:x 9, :y 0.350435245410165} {:x 10, :y 0.013632052255871496} {:x 11, :y 0.430460717501953} {:x 12, :y 0.8533845044162444} {:x 13, :y 0.9501022680710832} {:x 14, :y 0.7787614531311832} {:x 15, :y 0.62637058419544} {:x 16, :y 0.04509540421888192} {:x 17, :y 0.952955321710382} {:x 18, :y 0.09335889198235392} {:x 19, :y 0.403546612325442} {:x 20, :y 0.6891574990431132} {:x 21, :y 0.9948719540429969} {:x 22, :y 0.7972181987751971} {:x 23, :y 0.7882570010936325} {:x 24, :y 0.2148773772929139} {:x 25, :y 0.4691902261401789} {:x 26, :y 0.18097848632703162} {:x 27, :y 0.2373336722296785} {:x 28, :y 0.9159424985593938} {:x 29, :y 0.615644489946278} {:x 30, :y 0.6871140358675181} {:x 31, :y 0.9633640641113647} {:x 32, :y 0.27397758488295354} {:x 33, :y 0.9858125278598033} {:x 34, :y 0.014268063049048596} {:x 35, :y 0.17205410831720713} {:x 36, :y 0.21878572237454486} {:x 37, :y 0.17304432996861385} {:x 38, :y 0.06490278748056011} {:x 39, :y 0.7369399369331606} {:x 40, :y 0.9219842194022597} {:x 41, :y 0.03956897562055406} {:x 42, :y 0.8725264925894605} {:x 43, :y 0.4469761652583345} {:x 44, :y 0.3076595308222485} {:x 45, :y 0.7994526072561766} {:x 46, :y 0.3722976201855417} {:x 47, :y 0.8541313891507384} {:x 48, :y 0.581829655695987} {:x 49, :y 0.22330726132355505} {:x 50, :y 0.6375952183165693} {:x 51, :y 0.9209724779839285} {:x 52, :y 0.7319163634903294} {:x 53, :y 0.919126802293643} {:x 54, :y 0.9951837154258801} {:x 55, :y 0.12232071723480165} {:x 56, :y 0.1280934903095825} {:x 57, :y 0.11335259991442481} {:x 58, :y 0.2528892950464866} {:x 59, :y 0.3904149633998215} {:x 60, :y 0.07029225142850692} {:x 61, :y 0.6072485674354816} {:x 62, :y 0.12624437803814803} {:x 63, :y 0.3096177214860465} {:x 64, :y 0.3678078339098527} {:x 65, :y 0.6158909663633936} {:x 66, :y 0.8343450641297552} {:x 67, :y 0.2645526752964654} {:x 68, :y 0.8128657879809095} {:x 69, :y 0.010556185122256867} {:x 70, :y 0.7502067320944532} {:x 71, :y 0.82466255060349} {:x 72, :y 0.7151714959769143} {:x 73, :y 0.08001471661861803} {:x 74, :y 0.9371904308760174} {:x 75, :y 0.5085288457365231} {:x 76, :y 0.5013787894422751} {:x 77, :y 0.3022175896980205} {:x 78, :y 0.3806133367793285} {:x 79, :y 0.21289589978577028} {:x 80, :y 0.7515789744536324} {:x 81, :y 0.7750870980061186} {:x 82, :y 0.7324443247616245} {:x 83, :y 0.014193295224886215} {:x 84, :y 0.944325223188763} {:x 85, :y 0.8936004378131182} {:x 86, :y 0.4270258203209296} {:x 87, :y 0.7544527241808111} {:x 88, :y 0.6123707032062469} {:x 89, :y 0.5800819794611182} {:x 90, :y 0.09705121133462846} {:x 91, :y 0.8088663976908999} {:x 92, :y 0.5732143886131398} {:x 93, :y 0.8755954180988046} {:x 94, :y 0.32156703605297865} {:x 95, :y 0.6988357524338248} {:x 96, :y 0.3917106562473034} {:x 97, :y 0.9825547929741453} {:x 98, :y 0.8715573629219183}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" size\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/type :point)\\n    (viz/mark-size 500)\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :size {:value 500}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.7622112519738635} {:x 1, :y 0.25641459323913973} {:x 2, :y 0.9121489200195462} {:x 3, :y 0.7837077715720288} {:x 4, :y 0.9215249845007899} {:x 5, :y 0.0069977392228496305} {:x 6, :y 0.7349010687907458} {:x 7, :y 0.7892345856895928} {:x 8, :y 0.7013697019492029} {:x 9, :y 0.13698373402785602} {:x 10, :y 0.058661632569013245} {:x 11, :y 0.8522043586042931} {:x 12, :y 0.03767951063143915} {:x 13, :y 0.2142171192690766} {:x 14, :y 0.7655589357277757} {:x 15, :y 0.8305581921177133} {:x 16, :y 0.09451887933812453} {:x 17, :y 0.3108928399864467} {:x 18, :y 0.2279088723406747} {:x 19, :y 0.5630933412064842} {:x 20, :y 0.2580879772499278} {:x 21, :y 0.7156376331677221} {:x 22, :y 0.19281163386899136} {:x 23, :y 0.006945132507369167} {:x 24, :y 0.7130045446375} {:x 25, :y 0.4120490978507223} {:x 26, :y 0.27613936810119366} {:x 27, :y 0.40264966167361727} {:x 28, :y 0.5225235076459941} {:x 29, :y 0.5512617899838672} {:x 30, :y 0.538846343947687} {:x 31, :y 0.8276585753922997} {:x 32, :y 0.9322070880995041} {:x 33, :y 0.42052426048970604} {:x 34, :y 0.9320083088481128} {:x 35, :y 0.9142143355137057} {:x 36, :y 0.6956601557134221} {:x 37, :y 0.21543435165324643} {:x 38, :y 0.4917257308563828} {:x 39, :y 0.9537853943653855} {:x 40, :y 0.5812968759796899} {:x 41, :y 0.2603949970566365} {:x 42, :y 0.04100124091899904} {:x 43, :y 0.08779811211520872} {:x 44, :y 0.8607060971515917} {:x 45, :y 0.19001591084515979} {:x 46, :y 0.8129282299198286} {:x 47, :y 0.7931924861138072} {:x 48, :y 0.5020349157417298} {:x 49, :y 0.0036012857001792575} {:x 50, :y 0.8480049117061795} {:x 51, :y 0.4113671595223818} {:x 52, :y 0.995910837532601} {:x 53, :y 0.8355275911291351} {:x 54, :y 0.23811342121726597} {:x 55, :y 0.04036845912957032} {:x 56, :y 0.22677524976602637} {:x 57, :y 0.7462290427818689} {:x 58, :y 0.29068138477391714} {:x 59, :y 0.7127172922961337} {:x 60, :y 0.5691018279142606} {:x 61, :y 0.8316733409254928} {:x 62, :y 0.46876891547098554} {:x 63, :y 0.415056774351385} {:x 64, :y 0.43582523751493796} {:x 65, :y 0.47362343959083597} {:x 66, :y 0.5263014568769324} {:x 67, :y 0.17084256480870208} {:x 68, :y 0.8354074470264794} {:x 69, :y 0.6086457451022893} {:x 70, :y 0.6023945677958956} {:x 71, :y 0.10358667603892435} {:x 72, :y 0.10431990473382069} {:x 73, :y 0.4807389440396471} {:x 74, :y 0.1646940220520846} {:x 75, :y 0.1257050991270402} {:x 76, :y 0.8733219418770202} {:x 77, :y 0.46062184805052775} {:x 78, :y 0.5988808079055921} {:x 79, :y 0.6568081058941615} {:x 80, :y 0.4987668549167613} {:x 81, :y 0.16413248617824905} {:x 82, :y 0.9299672419187681} {:x 83, :y 0.5653116345571007} {:x 84, :y 0.6442691740454308} {:x 85, :y 0.28285520267275943} {:x 86, :y 0.6307369254213878} {:x 87, :y 0.3485367971697729} {:x 88, :y 0.43341773535168715} {:x 89, :y 0.2520058967685538} {:x 90, :y 0.7236580108976403} {:x 91, :y 0.41900383936725993} {:x 92, :y 0.6108209944791313} {:x 93, :y 0.12377034854432045} {:x 94, :y 0.4148256592955327} {:x 95, :y 0.248416077055438} {:x 96, :y 0.44662264121501905} {:x 97, :y 0.7887039507014303} {:x 98, :y 0.3119659107593671}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" ### Picking the mark type\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" point\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/type :point)\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.035867983521781555} {:x 1, :y 0.698726728982013} {:x 2, :y 0.9934658964294214} {:x 3, :y 0.8732605334921143} {:x 4, :y 0.5131011643000909} {:x 5, :y 0.807323725702034} {:x 6, :y 0.4400741868503816} {:x 7, :y 0.10972780793687431} {:x 8, :y 0.4771705882594651} {:x 9, :y 0.6379098877821725} {:x 10, :y 0.6200326533793383} {:x 11, :y 0.7211219228584194} {:x 12, :y 0.6496727213289497} {:x 13, :y 0.5118441239916228} {:x 14, :y 0.9360947839896084} {:x 15, :y 0.783789489178467} {:x 16, :y 0.5017262697465709} {:x 17, :y 0.9675884100057826} {:x 18, :y 0.0950929879466591} {:x 19, :y 0.8286483136819888} {:x 20, :y 0.7551853807581554} {:x 21, :y 0.6811286154938022} {:x 22, :y 0.7171769102398985} {:x 23, :y 0.6484305709316912} {:x 24, :y 0.37310380404329824} {:x 25, :y 0.2406749066210121} {:x 26, :y 0.5999673705539363} {:x 27, :y 0.45555867581092024} {:x 28, :y 0.9862581322257166} {:x 29, :y 0.0185921843327298} {:x 30, :y 0.10054732648114162} {:x 31, :y 0.07549868315452957} {:x 32, :y 0.8675769658890342} {:x 33, :y 0.21261247507151781} {:x 34, :y 0.6538749516523751} {:x 35, :y 0.7051628504169063} {:x 36, :y 0.7626120435724306} {:x 37, :y 0.23873271624906678} {:x 38, :y 0.5331181752849722} {:x 39, :y 0.3919096174292217} {:x 40, :y 0.11172617599623413} {:x 41, :y 0.04980333147438076} {:x 42, :y 0.5755738966420654} {:x 43, :y 0.7959153561885014} {:x 44, :y 0.45846237365483355} {:x 45, :y 0.6266640887319842} {:x 46, :y 0.7472495197395007} {:x 47, :y 0.9871693283165905} {:x 48, :y 0.12859726348898692} {:x 49, :y 0.8427855877328534} {:x 50, :y 0.09984785590165302} {:x 51, :y 0.9980695701881702} {:x 52, :y 0.5856707519895231} {:x 53, :y 0.13872604902685226} {:x 54, :y 0.8858113774551215} {:x 55, :y 0.6035740978465558} {:x 56, :y 0.22132372835341674} {:x 57, :y 0.9593150245580163} {:x 58, :y 0.34024502650643584} {:x 59, :y 0.3330881555471872} {:x 60, :y 0.722563744903429} {:x 61, :y 0.7043267568492949} {:x 62, :y 0.9129513431145814} {:x 63, :y 0.03174531087626098} {:x 64, :y 0.5731183858528812} {:x 65, :y 0.022507761444417906} {:x 66, :y 0.5394758040031681} {:x 67, :y 0.3834660589325888} {:x 68, :y 0.6923245041189172} {:x 69, :y 0.6391747515301003} {:x 70, :y 0.8769738221499764} {:x 71, :y 0.6841548308365292} {:x 72, :y 0.6925412024582095} {:x 73, :y 0.5492003840211522} {:x 74, :y 0.2988754137653358} {:x 75, :y 0.8106224193468288} {:x 76, :y 0.7448630500385005} {:x 77, :y 0.3300561831687666} {:x 78, :y 0.8417375426045703} {:x 79, :y 0.7692974757521378} {:x 80, :y 0.5829490189814258} {:x 81, :y 0.5336833478670608} {:x 82, :y 0.22833775126518374} {:x 83, :y 0.42851756963330245} {:x 84, :y 0.7460721613295235} {:x 85, :y 0.6013136875405621} {:x 86, :y 0.5529774050150027} {:x 87, :y 0.03916653190256392} {:x 88, :y 0.7650337096928823} {:x 89, :y 0.511964539586481} {:x 90, :y 0.2081265749170974} {:x 91, :y 0.9306513604896847} {:x 92, :y 0.628374415623014} {:x 93, :y 0.423183303128425} {:x 94, :y 0.15595659976430132} {:x 95, :y 0.332688961470882} {:x 96, :y 0.531355091508436} {:x 97, :y 0.8917183895511321} {:x 98, :y 0.7039705415989413}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" line\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/type :line)\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"line\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.6180990256151488} {:x 1, :y 0.6064673305753289} {:x 2, :y 0.8721453257368423} {:x 3, :y 0.5308559383603599} {:x 4, :y 0.3877761595910806} {:x 5, :y 0.061774513628401584} {:x 6, :y 0.5830778119853324} {:x 7, :y 0.8268479975379583} {:x 8, :y 0.7262410636625715} {:x 9, :y 0.9121721575573639} {:x 10, :y 0.503445879038644} {:x 11, :y 0.06230587360487627} {:x 12, :y 0.644646760679286} {:x 13, :y 0.2786957471887236} {:x 14, :y 0.21542415073330168} {:x 15, :y 0.07886814132770203} {:x 16, :y 0.19784299054334165} {:x 17, :y 0.0522933144728609} {:x 18, :y 0.5459448655438526} {:x 19, :y 0.9094682370638009} {:x 20, :y 0.013077654932963756} {:x 21, :y 0.571019172361322} {:x 22, :y 0.47533236913284116} {:x 23, :y 0.9766544941143481} {:x 24, :y 1.4166872387622043E-4} {:x 25, :y 0.8433939280141948} {:x 26, :y 0.5794469049781729} {:x 27, :y 0.09307311665022633} {:x 28, :y 0.8262394541132669} {:x 29, :y 0.7657155620890892} {:x 30, :y 0.3508269380056247} {:x 31, :y 0.9936371521578261} {:x 32, :y 0.33359407451204215} {:x 33, :y 0.7273944793077534} {:x 34, :y 0.6046715876619317} {:x 35, :y 0.9658179101813475} {:x 36, :y 0.4537727537591151} {:x 37, :y 0.9759258845755886} {:x 38, :y 0.3171052057029773} {:x 39, :y 0.5126599132683088} {:x 40, :y 0.3299449193999442} {:x 41, :y 0.12190019462064772} {:x 42, :y 0.6660189122695762} {:x 43, :y 0.8825341639849384} {:x 44, :y 0.2967612595848186} {:x 45, :y 0.20449304373531985} {:x 46, :y 0.7488842034062768} {:x 47, :y 0.7303086256636322} {:x 48, :y 0.08726950055133909} {:x 49, :y 0.8091638100024154} {:x 50, :y 0.4372865261331822} {:x 51, :y 0.13652900144897662} {:x 52, :y 0.1372582369685441} {:x 53, :y 0.8318321659891177} {:x 54, :y 0.09452727474008105} {:x 55, :y 0.704366977408052} {:x 56, :y 0.13964775691587872} {:x 57, :y 0.6175898656235165} {:x 58, :y 0.43049486843807994} {:x 59, :y 0.4785068772497324} {:x 60, :y 0.06502235873401474} {:x 61, :y 0.36704537496229017} {:x 62, :y 0.5971067883709222} {:x 63, :y 0.9858060079226838} {:x 64, :y 0.7091259880148326} {:x 65, :y 0.8996866594953842} {:x 66, :y 0.7379763501863116} {:x 67, :y 0.7844782311839534} {:x 68, :y 0.4541192685717076} {:x 69, :y 0.09118762521716006} {:x 70, :y 0.5975590022749038} {:x 71, :y 0.5267134628704884} {:x 72, :y 0.33762241304616647} {:x 73, :y 0.5603722473018286} {:x 74, :y 0.46788514066260223} {:x 75, :y 0.6890613063316863} {:x 76, :y 0.712045300380394} {:x 77, :y 0.4715894099177468} {:x 78, :y 0.7050875842162021} {:x 79, :y 0.805569475071821} {:x 80, :y 0.7464327963856275} {:x 81, :y 0.6395407893899094} {:x 82, :y 0.2832834186070792} {:x 83, :y 0.25058316158298055} {:x 84, :y 0.7740290971805798} {:x 85, :y 0.47614312962508765} {:x 86, :y 0.36997187947135} {:x 87, :y 0.3612745660935387} {:x 88, :y 0.020992518297392238} {:x 89, :y 0.7027952069669813} {:x 90, :y 0.7049607248846459} {:x 91, :y 0.9643862848160479} {:x 92, :y 0.5651679796626201} {:x 93, :y 0.16645885516455072} {:x 94, :y 0.6439362291757285} {:x 95, :y 0.1773364139147814} {:x 96, :y 0.4685511157652501} {:x 97, :y 0.5442527391246722} {:x 98, :y 0.08814225250350383}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" bar\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/type :bar)\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"bar\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.6907469783211565} {:x 1, :y 0.9030549346809397} {:x 2, :y 0.19879614510376797} {:x 3, :y 0.16323649738236834} {:x 4, :y 0.6076215526757728} {:x 5, :y 0.746415724411941} {:x 6, :y 0.9553295639021735} {:x 7, :y 0.4332427629267921} {:x 8, :y 0.31381197491189217} {:x 9, :y 0.5635525000624261} {:x 10, :y 0.11167785194821556} {:x 11, :y 0.639620266671681} {:x 12, :y 0.7850782189447608} {:x 13, :y 0.10841964758329936} {:x 14, :y 0.5634103821056072} {:x 15, :y 0.44082206138738655} {:x 16, :y 0.19795916574542727} {:x 17, :y 0.48237009404326014} {:x 18, :y 0.5290923615262347} {:x 19, :y 0.39431667413770566} {:x 20, :y 0.7048366669716345} {:x 21, :y 0.8672722525968218} {:x 22, :y 0.9943098498021665} {:x 23, :y 0.47089832526905606} {:x 24, :y 0.7579889504474924} {:x 25, :y 0.31510055161219186} {:x 26, :y 0.6581905647489683} {:x 27, :y 0.7202124593482001} {:x 28, :y 0.42309324931972336} {:x 29, :y 0.4204464276818929} {:x 30, :y 0.8624315719412807} {:x 31, :y 0.3167757174529183} {:x 32, :y 0.7095525599502677} {:x 33, :y 0.8283725278332321} {:x 34, :y 0.7103835368304287} {:x 35, :y 0.10736998003732634} {:x 36, :y 0.06318425006819073} {:x 37, :y 0.4372599858758013} {:x 38, :y 0.3425311332395674} {:x 39, :y 0.9535423328232326} {:x 40, :y 0.8162232591418617} {:x 41, :y 0.8447748955042217} {:x 42, :y 0.12474739451652517} {:x 43, :y 0.6170442514159962} {:x 44, :y 0.5702561618572972} {:x 45, :y 0.054806973731296615} {:x 46, :y 0.32698939287188455} {:x 47, :y 0.6713948129739241} {:x 48, :y 0.19961687659314276} {:x 49, :y 0.7142092980353442} {:x 50, :y 0.7226416267832352} {:x 51, :y 0.9393542805708887} {:x 52, :y 0.40593816300094887} {:x 53, :y 0.18039560637594887} {:x 54, :y 0.422502273236085} {:x 55, :y 0.253945893376715} {:x 56, :y 0.5289680229460068} {:x 57, :y 0.5343271711685603} {:x 58, :y 0.1724469448696495} {:x 59, :y 0.9197657145843029} {:x 60, :y 0.6244234188835794} {:x 61, :y 0.24814855581106077} {:x 62, :y 0.2900933065866902} {:x 63, :y 0.11167109139238607} {:x 64, :y 0.6565680801503964} {:x 65, :y 0.5927075955877088} {:x 66, :y 0.39332908866710914} {:x 67, :y 0.5895407816510145} {:x 68, :y 0.021365373647714514} {:x 69, :y 0.02742217242936351} {:x 70, :y 0.08235525176147096} {:x 71, :y 0.5306507919354647} {:x 72, :y 0.515471092166158} {:x 73, :y 0.7534319438629593} {:x 74, :y 0.7769347172865518} {:x 75, :y 0.9853115379959176} {:x 76, :y 0.2969950230899163} {:x 77, :y 0.33070086582814606} {:x 78, :y 0.981826784025831} {:x 79, :y 0.44676402113024793} {:x 80, :y 0.34587431731988605} {:x 81, :y 0.7607119147473635} {:x 82, :y 0.3559256196596069} {:x 83, :y 0.29293322688306767} {:x 84, :y 0.42486590846616323} {:x 85, :y 0.71862272570815} {:x 86, :y 0.09441095023859403} {:x 87, :y 0.4054901424167152} {:x 88, :y 0.5665789396334888} {:x 89, :y 0.6822269406209316} {:x 90, :y 0.29825776787633007} {:x 91, :y 0.10077335273797416} {:x 92, :y 0.6676325464528808} {:x 93, :y 0.5497928399028772} {:x 94, :y 0.2017410868902828} {:x 95, :y 0.6174746834878541} {:x 96, :y 0.8579379898872699} {:x 97, :y 0.9648273748354645} {:x 98, :y 0.35611090522273314}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" a type determined by a Hanami chart template\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/type ht/point-chart)\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.7975932990255009} {:x 1, :y 0.9312689679094517} {:x 2, :y 0.9730403381745776} {:x 3, :y 0.12640103477852227} {:x 4, :y 0.2700155508686942} {:x 5, :y 0.272696966283679} {:x 6, :y 0.8252596310200847} {:x 7, :y 0.14837564610641563} {:x 8, :y 0.40017830897205886} {:x 9, :y 0.3991334010633878} {:x 10, :y 0.7097757305802753} {:x 11, :y 0.7139053106187555} {:x 12, :y 0.5046259522772814} {:x 13, :y 0.4411340788146543} {:x 14, :y 0.9485694799350189} {:x 15, :y 0.4056037127782288} {:x 16, :y 0.3458723075971619} {:x 17, :y 0.6372853470808989} {:x 18, :y 0.7241042933726165} {:x 19, :y 0.6853460768054811} {:x 20, :y 0.7208302463249847} {:x 21, :y 0.18690585306787222} {:x 22, :y 0.7168399814073809} {:x 23, :y 0.5563277868493791} {:x 24, :y 0.03517382372728628} {:x 25, :y 0.6124613891178446} {:x 26, :y 0.12835245121850813} {:x 27, :y 0.8646126366774286} {:x 28, :y 0.11634882362953236} {:x 29, :y 0.12000469719986007} {:x 30, :y 0.4409199365615424} {:x 31, :y 0.28365739772402465} {:x 32, :y 0.1595491253786535} {:x 33, :y 0.31411599026438375} {:x 34, :y 0.9216625883253665} {:x 35, :y 0.5340900357315594} {:x 36, :y 0.6238286039766158} {:x 37, :y 0.023234354075800545} {:x 38, :y 0.31779949434003096} {:x 39, :y 0.9310567969555504} {:x 40, :y 0.09961880483013685} {:x 41, :y 0.9219334203126331} {:x 42, :y 0.40931325960968434} {:x 43, :y 0.9227429506247248} {:x 44, :y 0.6542750077342997} {:x 45, :y 0.09860995406269568} {:x 46, :y 0.08628886458277074} {:x 47, :y 0.8862113226029614} {:x 48, :y 0.9288743961594892} {:x 49, :y 0.7102170295077471} {:x 50, :y 0.4004205995761865} {:x 51, :y 0.08049094721897043} {:x 52, :y 0.30734193400201437} {:x 53, :y 0.39008822539726895} {:x 54, :y 0.6036565257914432} {:x 55, :y 0.3218882994531276} {:x 56, :y 0.8080807921775124} {:x 57, :y 0.13056253820295094} {:x 58, :y 0.5316774306557045} {:x 59, :y 0.6427816545877669} {:x 60, :y 0.9586359091721699} {:x 61, :y 0.9490350171995259} {:x 62, :y 0.8158832002217496} {:x 63, :y 0.9226988972289333} {:x 64, :y 0.8055210062804655} {:x 65, :y 0.7642208080702991} {:x 66, :y 0.3147861294403609} {:x 67, :y 0.23926780957928628} {:x 68, :y 0.38419049880191525} {:x 69, :y 0.5588354014807123} {:x 70, :y 0.844187738561195} {:x 71, :y 0.4766670000996458} {:x 72, :y 0.42823959004771517} {:x 73, :y 0.08555723317427166} {:x 74, :y 0.7552415662996796} {:x 75, :y 0.5504946368976164} {:x 76, :y 0.8322676307608199} {:x 77, :y 0.08505347196368518} {:x 78, :y 0.16048132839620333} {:x 79, :y 0.4605115766687805} {:x 80, :y 0.3994406784102178} {:x 81, :y 0.22801328361520146} {:x 82, :y 0.640120556795822} {:x 83, :y 0.26650373536487226} {:x 84, :y 0.7026416468805194} {:x 85, :y 0.7675474711428854} {:x 86, :y 0.07440599736283182} {:x 87, :y 0.9975486857121646} {:x 88, :y 0.46719714458019235} {:x 89, :y 0.19397690046539273} {:x 90, :y 0.8425337455007947} {:x 91, :y 0.451259614950129} {:x 92, :y 0.7435224703017814} {:x 93, :y 0.020946849311865856} {:x 94, :y 0.004614011449409872} {:x 95, :y 0.8171192417630266} {:x 96, :y 0.27962702283208785} {:x 97, :y 0.19996772919034} {:x 98, :y 0.24039636808440934}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" ## Transforming during the viz pipeline\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Let us plot some data, having numbers with different orders of magnitude.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 10)\\n     :y (map #(Math/pow 10 %)\\n             (range 10))}\\n    tc/dataset\\n    viz/data\\n    (viz/type \\\"point\\\")\\n    (viz/mark-size 200)\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :size {:value 200}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 1.0} {:x 1, :y 10.0} {:x 2, :y 100.0} {:x 3, :y 1000.0} {:x 4, :y 10000.0} {:x 5, :y 100000.0} {:x 6, :y 1000000.0} {:x 7, :y 1.0E7} {:x 8, :y 1.0E8} {:x 9, :y 1.0E9}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" A log transformation would help in linarizing the situation.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" We can use tablecloth.pipeline to transform data after the start of the viz pipeline, since the internal data representation is compatible with [Metamorph](https://github.com/scicloj/metamorph).\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 10)\\n     :y (map #(Math/pow 10 %)\\n             (range 10))}\\n    tc/dataset\\n    viz/data\\n    (viz/type \\\"point\\\")\\n    (viz/mark-size 200)\\n    ((tablecloth.pipeline/update-columns [:y] fun/log10))\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :size {:value 200}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0.0} {:x 1, :y 1.0} {:x 2, :y 2.0} {:x 3, :y 3.0} {:x 4, :y 4.0} {:x 5, :y 5.0} {:x 6, :y 6.0} {:x 7, :y 7.0} {:x 8, :y 8.0} {:x 9, :y 9.0}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" The reason it works is that the main dataset is held under a special key, following the Metamorph approach.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 10)\\n     :y (map #(Math/pow 10 %)\\n             (range 10))}\\n    tc/dataset\\n    viz/data\\n    keys)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value :DATA, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1], :nextjournal/value :metamorph/data, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}}\"}, :path []} {:nextjournal/value \" ## Using more powerful transofmations\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ### Tweaking the Hanami template substitutions\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Let us tweak the following plot:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:u (range 99)\\n     :v (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/x :u)\\n    (viz/y :v)\\n    (viz/type \\\"point\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field :v, :type \\\"quantitative\\\"}, :x {:field :u, :type \\\"quantitative\\\"}, :tooltip [{:field :u, :type \\\"quantitative\\\"} {:field :v, :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:u 0, :v 0.0668054203065851} {:u 1, :v 0.9262744433525122} {:u 2, :v 0.5598973712733026} {:u 3, :v 0.2569442660052381} {:u 4, :v 0.0944489961917806} {:u 5, :v 0.6116934950606893} {:u 6, :v 0.09854362950758533} {:u 7, :v 0.09717423695893312} {:u 8, :v 0.6610536948302375} {:u 9, :v 0.4080864855446815} {:u 10, :v 0.915480509380995} {:u 11, :v 0.2821515919208407} {:u 12, :v 0.2998468653279116} {:u 13, :v 0.4787846215582078} {:u 14, :v 0.06833459043665602} {:u 15, :v 0.0022608375556675275} {:u 16, :v 0.4731188178390253} {:u 17, :v 0.24275041709632972} {:u 18, :v 0.6592133801898112} {:u 19, :v 0.6358459909553198} {:u 20, :v 0.43614793461176193} {:u 21, :v 0.9222291640902633} {:u 22, :v 0.013610287326943804} {:u 23, :v 0.7186423052024863} {:u 24, :v 0.46009714024907755} {:u 25, :v 0.7497033285346327} {:u 26, :v 0.9010356794299248} {:u 27, :v 0.11329726819088737} {:u 28, :v 0.29330727777420573} {:u 29, :v 0.5019045699538961} {:u 30, :v 0.3647876256838051} {:u 31, :v 0.535505983413055} {:u 32, :v 0.9992010564662479} {:u 33, :v 0.7014904320042552} {:u 34, :v 0.8776892988865912} {:u 35, :v 0.7817616658081924} {:u 36, :v 0.599050972186074} {:u 37, :v 0.7810936960655142} {:u 38, :v 0.22128460543729078} {:u 39, :v 0.973449311205024} {:u 40, :v 0.26915344765150817} {:u 41, :v 0.7398044611014846} {:u 42, :v 0.6978977877069672} {:u 43, :v 0.8829868974850924} {:u 44, :v 0.19449039722125494} {:u 45, :v 0.3387460809915923} {:u 46, :v 0.028126321482563887} {:u 47, :v 0.9399448669177848} {:u 48, :v 0.5647485627150272} {:u 49, :v 0.6802580921112773} {:u 50, :v 0.5607508574274835} {:u 51, :v 0.828551479807329} {:u 52, :v 0.6136062489293959} {:u 53, :v 0.09430047062989999} {:u 54, :v 0.22770993332531186} {:u 55, :v 0.6827181000802444} {:u 56, :v 0.04848564553763712} {:u 57, :v 0.6160454609182913} {:u 58, :v 0.013701085792692358} {:u 59, :v 0.7606948419501465} {:u 60, :v 0.695508454719678} {:u 61, :v 0.9802244725092978} {:u 62, :v 0.5781344718152767} {:u 63, :v 0.13869394387765865} {:u 64, :v 0.6931815610390303} {:u 65, :v 0.9806491665126498} {:u 66, :v 0.06657850294683976} {:u 67, :v 0.40129446019659853} {:u 68, :v 0.10837807117430398} {:u 69, :v 0.2474277985467218} {:u 70, :v 0.07950183151347257} {:u 71, :v 0.5261684895906893} {:u 72, :v 0.41946878074545024} {:u 73, :v 0.979748753405123} {:u 74, :v 0.22802946256044343} {:u 75, :v 0.16164610367081023} {:u 76, :v 0.9139977435739398} {:u 77, :v 0.9387053363078445} {:u 78, :v 0.6995951966558216} {:u 79, :v 0.2778619230063075} {:u 80, :v 0.6820847197059013} {:u 81, :v 0.052487339543956235} {:u 82, :v 0.7807862935864113} {:u 83, :v 0.735703713523425} {:u 84, :v 0.5517766388903975} {:u 85, :v 0.31536617333390327} {:u 86, :v 0.3403411524012313} {:u 87, :v 0.6625092394498349} {:u 88, :v 0.008858867366026035} {:u 89, :v 0.27225230009164303} {:u 90, :v 0.8621734870074699} {:u 91, :v 0.6494347858806637} {:u 92, :v 0.8711763637735764} {:u 93, :v 0.2722049859445411} {:u 94, :v 0.7364619006901989} {:u 95, :v 0.6926446170627789} {:u 96, :v 0.24630402462364065} {:u 97, :v 0.8471262489707784} {:u 98, :v 0.16625714423743654}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" Just before the call to the `viz/viz` function, what we have is a representation of a [template substitutions](https://github.com/jsa-aerial/hanami#templates-substitution-keys-and-transformations) of [Hanami](https://github.com/jsa-aerial/hanami) (plus some additional special fields of Viz.clj):\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:u (range 99)\\n     :v (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/x :u)\\n    (viz/y :v)\\n    (viz/type \\\"point\\\"))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :DATA, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value \\\"scicloj.viz.api/data-without-tempfiles/fn--35833\\\", :nextjournal/viewer {:name :fn, :render-fn #viewer-fn (fn [x] (v/html [:span.inspected-value [:span.cmt-meta \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :X, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :Y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :metamorph/data, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value 0.8238711073918327, :nextjournal/width :wide, :nextjournal/viewers ({:name :elision, :render-fn (fn [_] (v/html \\\"â€¦\\\")), :fetch-fn \\\"nextjournal.clerk.viewer/fetch-all\\\"} {:pred #{:nextjournal/missing}, :render-fn (fn [x] (v/html [:<>]))} {:pred \\\"clojure.core/string?--5427\\\", :render-fn v/string-viewer, :fetch-opts {:n 100}} {:pred \\\"clojure.core/number?\\\", :render-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}), :nextjournal/viewer {:name :table, :render-fn #viewer-fn v/table-viewer, :fetch-opts {:n 5}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :viz/type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value \\\"point\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \" We can use the full expressivity of Hanami to tweak those template substitutions. For example, let us have a new background color substitution:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:u (range 99)\\n     :v (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/x :u)\\n    (viz/y :v)\\n    (viz/type \\\"point\\\")\\n    (assoc :BACKGROUND \\\"#e9e6e3\\\"))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :BACKGROUND, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value \\\"#e9e6e3\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :DATA, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value \\\"scicloj.viz.api/data-without-tempfiles/fn--35833\\\", :nextjournal/viewer {:name :fn, :render-fn #viewer-fn (fn [x] (v/html [:span.inspected-value [:span.cmt-meta \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :X, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :Y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :metamorph/data, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value 0.9992382630383375, :nextjournal/width :wide, :nextjournal/viewers ({:name :elision, :render-fn (fn [_] (v/html \\\"â€¦\\\")), :fetch-fn \\\"nextjournal.clerk.viewer/fetch-all\\\"} {:pred #{:nextjournal/missing}, :render-fn (fn [x] (v/html [:<>]))} {:pred \\\"clojure.core/string?--5427\\\", :render-fn v/string-viewer, :fetch-opts {:n 100}} {:pred \\\"clojure.core/number?\\\", :render-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}), :nextjournal/viewer {:name :table, :render-fn #viewer-fn v/table-viewer, :fetch-opts {:n 5}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value :viz/type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [5 1], :nextjournal/value \\\"point\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \" Now, we can pass it to `viz/viz` again and get the plot:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:u (range 99)\\n     :v (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/x :u)\\n    (viz/y :v)\\n    (viz/type \\\"point\\\")\\n    (assoc :BACKGROUND \\\"#e9e6e3\\\")\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field :v, :type \\\"quantitative\\\"}, :x {:field :u, :type \\\"quantitative\\\"}, :tooltip [{:field :u, :type \\\"quantitative\\\"} {:field :v, :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"#e9e6e3\\\", :height 300, :data {:values [{:u 0, :v 0.8953804477112032} {:u 1, :v 0.9001187371121863} {:u 2, :v 0.028252338806601496} {:u 3, :v 0.8211268250826386} {:u 4, :v 0.4840905850473485} {:u 5, :v 0.7782650995056506} {:u 6, :v 0.7797808023681233} {:u 7, :v 0.4799325322879088} {:u 8, :v 0.8510877822211461} {:u 9, :v 0.5242008019320333} {:u 10, :v 0.0853866452847053} {:u 11, :v 0.25786141278967656} {:u 12, :v 0.9227981523055264} {:u 13, :v 0.027084985457248023} {:u 14, :v 0.4469173935376958} {:u 15, :v 0.7872924522364989} {:u 16, :v 0.11942091284536704} {:u 17, :v 0.7435471820490558} {:u 18, :v 0.19638710452089037} {:u 19, :v 0.8501594560071455} {:u 20, :v 0.7897660517757549} {:u 21, :v 0.22741678210738092} {:u 22, :v 0.41231690500926943} {:u 23, :v 0.1132014276531329} {:u 24, :v 0.8413442553203625} {:u 25, :v 0.007147717801576747} {:u 26, :v 0.4441851600666926} {:u 27, :v 0.47496182441644696} {:u 28, :v 0.6807302217431896} {:u 29, :v 0.34124257210271436} {:u 30, :v 0.3050272508642471} {:u 31, :v 0.03189115567276257} {:u 32, :v 0.06457124867415298} {:u 33, :v 0.8438939068062624} {:u 34, :v 0.19320207716181959} {:u 35, :v 0.2734469172203683} {:u 36, :v 0.22821534977938007} {:u 37, :v 0.9662250491181847} {:u 38, :v 0.18656852703566384} {:u 39, :v 0.7498733741795316} {:u 40, :v 0.706784014457881} {:u 41, :v 0.8429264550140351} {:u 42, :v 0.7157918816397055} {:u 43, :v 0.12138376598476719} {:u 44, :v 0.5926169777439638} {:u 45, :v 0.06974768952367771} {:u 46, :v 0.7682268354204337} {:u 47, :v 0.1937550852298815} {:u 48, :v 0.5833671407552241} {:u 49, :v 0.5642196700937462} {:u 50, :v 0.8998000205261614} {:u 51, :v 0.27288614668890276} {:u 52, :v 0.06662609978488909} {:u 53, :v 0.7801450081721357} {:u 54, :v 0.03954189475990466} {:u 55, :v 0.9296578492670587} {:u 56, :v 0.6598118775822432} {:u 57, :v 0.19580918538756298} {:u 58, :v 0.7598939759957068} {:u 59, :v 0.05647359038795419} {:u 60, :v 0.07815205752468746} {:u 61, :v 0.17652896373260307} {:u 62, :v 0.15564460476072828} {:u 63, :v 0.9181474064716558} {:u 64, :v 0.9389470787190565} {:u 65, :v 0.024068537831838932} {:u 66, :v 0.7253220233719779} {:u 67, :v 0.7523459455757775} {:u 68, :v 0.12690037481064165} {:u 69, :v 0.2686177913332626} {:u 70, :v 0.6811012104904988} {:u 71, :v 0.35857961709721176} {:u 72, :v 0.6431528711121556} {:u 73, :v 0.03344175118909665} {:u 74, :v 0.9267565958047955} {:u 75, :v 0.02977750831131265} {:u 76, :v 0.4397616416901764} {:u 77, :v 0.6079734694990023} {:u 78, :v 0.537919853540559} {:u 79, :v 0.12676932731279345} {:u 80, :v 0.6017137221648817} {:u 81, :v 0.2020374405343126} {:u 82, :v 0.9548782898480949} {:u 83, :v 0.5735370975252095} {:u 84, :v 0.3801675758992539} {:u 85, :v 0.22205424070959867} {:u 86, :v 0.255376045231718} {:u 87, :v 0.5598881747533262} {:u 88, :v 0.003466699790362515} {:u 89, :v 0.30949119446035844} {:u 90, :v 0.8133568330102718} {:u 91, :v 0.77824015862531} {:u 92, :v 0.8965707068012303} {:u 93, :v 0.8124882957055051} {:u 94, :v 0.3693133177418544} {:u 95, :v 0.5924976050234658} {:u 96, :v 0.924901573192685} {:u 97, :v 0.32350208622191823} {:u 98, :v 0.038885367876110744}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" ### Tweaking the resulting vega-lite spec\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The value returned by `viz/viz` is a Vega-Lite spec (represented as a Clojure data structure). Due to Kindly metadata, it renders as a plot in Clay.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Let us assign the naive kind to it, so that it renders as a plain data structure:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:u (range 99)\\n     :v (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/x :u)\\n    (viz/y :v)\\n    (viz/type \\\"point\\\")\\n    viz/viz\\n    kind/naive)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :background, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value \\\"floralwhite\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :data, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value [{:path [1 1 0 0], :nextjournal/value :values, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1], :nextjournal/value [{:path [1 1 0 1 0], :nextjournal/value [{:path [1 1 0 1 0 0], :nextjournal/value [{:path [1 1 0 1 0 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 0 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 0 1], :nextjournal/value [{:path [1 1 0 1 0 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 0 1 1], :nextjournal/value 0.639539235564652, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 1], :nextjournal/value [{:path [1 1 0 1 1 0], :nextjournal/value [{:path [1 1 0 1 1 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 1 0 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 1 1], :nextjournal/value [{:path [1 1 0 1 1 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 1 1 1], :nextjournal/value 0.5452037579098905, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 2], :nextjournal/value [{:path [1 1 0 1 2 0], :nextjournal/value [{:path [1 1 0 1 2 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 2 0 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 2 1], :nextjournal/value [{:path [1 1 0 1 2 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 2 1 1], :nextjournal/value 0.40897480989933555, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 3], :nextjournal/value [{:path [1 1 0 1 3 0], :nextjournal/value [{:path [1 1 0 1 3 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 3 0 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 3 1], :nextjournal/value [{:path [1 1 0 1 3 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 3 1 1], :nextjournal/value 0.06857505943993003, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 4], :nextjournal/value [{:path [1 1 0 1 4 0], :nextjournal/value [{:path [1 1 0 1 4 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 4 0 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 4 1], :nextjournal/value [{:path [1 1 0 1 4 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 4 1 1], :nextjournal/value 0.4976234635330703, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 5], :nextjournal/value [{:path [1 1 0 1 5 0], :nextjournal/value [{:path [1 1 0 1 5 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 5 0 1], :nextjournal/value 5, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 5 1], :nextjournal/value [{:path [1 1 0 1 5 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 5 1 1], :nextjournal/value 0.2938686014046711, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 6], :nextjournal/value [{:path [1 1 0 1 6 0], :nextjournal/value [{:path [1 1 0 1 6 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 6 0 1], :nextjournal/value 6, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 6 1], :nextjournal/value [{:path [1 1 0 1 6 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 6 1 1], :nextjournal/value 0.6814498542158975, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 7], :nextjournal/value [{:path [1 1 0 1 7 0], :nextjournal/value [{:path [1 1 0 1 7 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 7 0 1], :nextjournal/value 7, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 7 1], :nextjournal/value [{:path [1 1 0 1 7 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 7 1 1], :nextjournal/value 0.2109240385957225, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 8], :nextjournal/value [{:path [1 1 0 1 8 0], :nextjournal/value [{:path [1 1 0 1 8 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 8 0 1], :nextjournal/value 8, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 8 1], :nextjournal/value [{:path [1 1 0 1 8 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 8 1 1], :nextjournal/value 0.22105925956908112, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 9], :nextjournal/value [{:path [1 1 0 1 9 0], :nextjournal/value [{:path [1 1 0 1 9 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 9 0 1], :nextjournal/value 9, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 9 1], :nextjournal/value [{:path [1 1 0 1 9 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 9 1 1], :nextjournal/value 0.8722751654835356, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 10], :nextjournal/value [{:path [1 1 0 1 10 0], :nextjournal/value [{:path [1 1 0 1 10 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 10 0 1], :nextjournal/value 10, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 10 1], :nextjournal/value [{:path [1 1 0 1 10 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 10 1 1], :nextjournal/value 0.9202187623949974, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 11], :nextjournal/value [{:path [1 1 0 1 11 0], :nextjournal/value [{:path [1 1 0 1 11 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 11 0 1], :nextjournal/value 11, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 11 1], :nextjournal/value [{:path [1 1 0 1 11 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 11 1 1], :nextjournal/value 0.43622408087802966, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 12], :nextjournal/value [{:path [1 1 0 1 12 0], :nextjournal/value [{:path [1 1 0 1 12 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 12 0 1], :nextjournal/value 12, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 12 1], :nextjournal/value [{:path [1 1 0 1 12 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 12 1 1], :nextjournal/value 0.7367783072501931, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 13], :nextjournal/value [{:path [1 1 0 1 13 0], :nextjournal/value [{:path [1 1 0 1 13 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 13 0 1], :nextjournal/value 13, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 13 1], :nextjournal/value [{:path [1 1 0 1 13 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 13 1 1], :nextjournal/value 0.19905078420790157, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 14], :nextjournal/value [{:path [1 1 0 1 14 0], :nextjournal/value [{:path [1 1 0 1 14 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 14 0 1], :nextjournal/value 14, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 14 1], :nextjournal/value [{:path [1 1 0 1 14 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 14 1 1], :nextjournal/value 0.0334989531949309, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 15], :nextjournal/value [{:path [1 1 0 1 15 0], :nextjournal/value [{:path [1 1 0 1 15 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 15 0 1], :nextjournal/value 15, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 15 1], :nextjournal/value [{:path [1 1 0 1 15 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 15 1 1], :nextjournal/value 0.3238095249123011, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 16], :nextjournal/value [{:path [1 1 0 1 16 0], :nextjournal/value [{:path [1 1 0 1 16 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 16 0 1], :nextjournal/value 16, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 16 1], :nextjournal/value [{:path [1 1 0 1 16 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 16 1 1], :nextjournal/value 0.3259834656969154, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 17], :nextjournal/value [{:path [1 1 0 1 17 0], :nextjournal/value [{:path [1 1 0 1 17 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 17 0 1], :nextjournal/value 17, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 17 1], :nextjournal/value [{:path [1 1 0 1 17 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 17 1 1], :nextjournal/value 0.19075687637906646, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 18], :nextjournal/value [{:path [1 1 0 1 18 0], :nextjournal/value [{:path [1 1 0 1 18 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 18 0 1], :nextjournal/value 18, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 18 1], :nextjournal/value [{:path [1 1 0 1 18 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 18 1 1], :nextjournal/value 0.27330567381849824, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 19], :nextjournal/value [{:path [1 1 0 1 19 0], :nextjournal/value [{:path [1 1 0 1 19 0 0], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 19 0 1], :nextjournal/value 19, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 19 1], :nextjournal/value [{:path [1 1 0 1 19 1 0], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 19 1 1], :nextjournal/value 0.8832059698800157, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:nextjournal/value {:count 99, :offset 20, :path [1 1 0 1], :remaining 79}, :nextjournal/viewer {:name :elision, :render-fn #viewer-fn v/elision-viewer}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :encoding, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value [{:path [2 1 0 0], :nextjournal/value :tooltip, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1], :nextjournal/value [{:path [2 1 0 1 0], :nextjournal/value [{:path [2 1 0 1 0 0], :nextjournal/value [{:path [2 1 0 1 0 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 0 0 1], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 0 1 0 1], :nextjournal/value [{:path [2 1 0 1 0 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 0 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [2 1 0 1 1], :nextjournal/value [{:path [2 1 0 1 1 0], :nextjournal/value [{:path [2 1 0 1 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 1 0 1], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 0 1 1 1], :nextjournal/value [{:path [2 1 0 1 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 1 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"]\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 1], :nextjournal/value [{:path [2 1 1 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 1 1], :nextjournal/value [{:path [2 1 1 1 0], :nextjournal/value [{:path [2 1 1 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 1 1 0 1], :nextjournal/value :u, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 1 1 1], :nextjournal/value [{:path [2 1 1 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 1 1 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 2], :nextjournal/value [{:path [2 1 2 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1], :nextjournal/value [{:path [2 1 2 1 0], :nextjournal/value [{:path [2 1 2 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1 0 1], :nextjournal/value :v, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 2 1 1], :nextjournal/value [{:path [2 1 2 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :height, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value 300, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :mark, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value [{:path [4 1 0 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [4 1 0 1], :nextjournal/value \\\"circle\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value :width, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [5 1], :nextjournal/value 400, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \" Now, let us tweak the Vega-Lite structure with a new background color:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/type \\\"point\\\")\\n    viz/viz\\n    ;; tweaking vega-lite:\\n    (assoc :background \\\"#e9e6e3\\\")\\n    kind/naive)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :background, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value \\\"#e9e6e3\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :data, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value [{:path [1 1 0 0], :nextjournal/value :values, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1], :nextjournal/value [{:path [1 1 0 1 0], :nextjournal/value [{:path [1 1 0 1 0 0], :nextjournal/value [{:path [1 1 0 1 0 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 0 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 0 1], :nextjournal/value [{:path [1 1 0 1 0 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 0 1 1], :nextjournal/value 0.6235727191250735, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 1], :nextjournal/value [{:path [1 1 0 1 1 0], :nextjournal/value [{:path [1 1 0 1 1 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 1 0 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 1 1], :nextjournal/value [{:path [1 1 0 1 1 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 1 1 1], :nextjournal/value 0.6205616049603762, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 2], :nextjournal/value [{:path [1 1 0 1 2 0], :nextjournal/value [{:path [1 1 0 1 2 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 2 0 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 2 1], :nextjournal/value [{:path [1 1 0 1 2 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 2 1 1], :nextjournal/value 0.3458869328059919, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 3], :nextjournal/value [{:path [1 1 0 1 3 0], :nextjournal/value [{:path [1 1 0 1 3 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 3 0 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 3 1], :nextjournal/value [{:path [1 1 0 1 3 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 3 1 1], :nextjournal/value 0.5576284328210226, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 4], :nextjournal/value [{:path [1 1 0 1 4 0], :nextjournal/value [{:path [1 1 0 1 4 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 4 0 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 4 1], :nextjournal/value [{:path [1 1 0 1 4 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 4 1 1], :nextjournal/value 0.3211002059440049, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 5], :nextjournal/value [{:path [1 1 0 1 5 0], :nextjournal/value [{:path [1 1 0 1 5 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 5 0 1], :nextjournal/value 5, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 5 1], :nextjournal/value [{:path [1 1 0 1 5 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 5 1 1], :nextjournal/value 0.11900744247285933, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 6], :nextjournal/value [{:path [1 1 0 1 6 0], :nextjournal/value [{:path [1 1 0 1 6 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 6 0 1], :nextjournal/value 6, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 6 1], :nextjournal/value [{:path [1 1 0 1 6 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 6 1 1], :nextjournal/value 0.9747358210429218, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 7], :nextjournal/value [{:path [1 1 0 1 7 0], :nextjournal/value [{:path [1 1 0 1 7 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 7 0 1], :nextjournal/value 7, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 7 1], :nextjournal/value [{:path [1 1 0 1 7 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 7 1 1], :nextjournal/value 0.002398990651292565, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 8], :nextjournal/value [{:path [1 1 0 1 8 0], :nextjournal/value [{:path [1 1 0 1 8 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 8 0 1], :nextjournal/value 8, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 8 1], :nextjournal/value [{:path [1 1 0 1 8 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 8 1 1], :nextjournal/value 0.8772569551165734, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 9], :nextjournal/value [{:path [1 1 0 1 9 0], :nextjournal/value [{:path [1 1 0 1 9 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 9 0 1], :nextjournal/value 9, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 9 1], :nextjournal/value [{:path [1 1 0 1 9 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 9 1 1], :nextjournal/value 0.9832067557154147, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 10], :nextjournal/value [{:path [1 1 0 1 10 0], :nextjournal/value [{:path [1 1 0 1 10 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 10 0 1], :nextjournal/value 10, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 10 1], :nextjournal/value [{:path [1 1 0 1 10 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 10 1 1], :nextjournal/value 0.9670062297042565, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 11], :nextjournal/value [{:path [1 1 0 1 11 0], :nextjournal/value [{:path [1 1 0 1 11 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 11 0 1], :nextjournal/value 11, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 11 1], :nextjournal/value [{:path [1 1 0 1 11 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 11 1 1], :nextjournal/value 0.9604335883550026, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 12], :nextjournal/value [{:path [1 1 0 1 12 0], :nextjournal/value [{:path [1 1 0 1 12 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 12 0 1], :nextjournal/value 12, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 12 1], :nextjournal/value [{:path [1 1 0 1 12 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 12 1 1], :nextjournal/value 0.6340193301911995, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 13], :nextjournal/value [{:path [1 1 0 1 13 0], :nextjournal/value [{:path [1 1 0 1 13 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 13 0 1], :nextjournal/value 13, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 13 1], :nextjournal/value [{:path [1 1 0 1 13 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 13 1 1], :nextjournal/value 0.3260461338952304, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 14], :nextjournal/value [{:path [1 1 0 1 14 0], :nextjournal/value [{:path [1 1 0 1 14 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 14 0 1], :nextjournal/value 14, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 14 1], :nextjournal/value [{:path [1 1 0 1 14 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 14 1 1], :nextjournal/value 0.691992143786745, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 15], :nextjournal/value [{:path [1 1 0 1 15 0], :nextjournal/value [{:path [1 1 0 1 15 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 15 0 1], :nextjournal/value 15, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 15 1], :nextjournal/value [{:path [1 1 0 1 15 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 15 1 1], :nextjournal/value 0.8567125073359486, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 16], :nextjournal/value [{:path [1 1 0 1 16 0], :nextjournal/value [{:path [1 1 0 1 16 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 16 0 1], :nextjournal/value 16, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 16 1], :nextjournal/value [{:path [1 1 0 1 16 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 16 1 1], :nextjournal/value 0.8182962289955725, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 17], :nextjournal/value [{:path [1 1 0 1 17 0], :nextjournal/value [{:path [1 1 0 1 17 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 17 0 1], :nextjournal/value 17, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 17 1], :nextjournal/value [{:path [1 1 0 1 17 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 17 1 1], :nextjournal/value 0.04877565026725661, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 18], :nextjournal/value [{:path [1 1 0 1 18 0], :nextjournal/value [{:path [1 1 0 1 18 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 18 0 1], :nextjournal/value 18, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 18 1], :nextjournal/value [{:path [1 1 0 1 18 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 18 1 1], :nextjournal/value 0.06043585232432824, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [1 1 0 1 19], :nextjournal/value [{:path [1 1 0 1 19 0], :nextjournal/value [{:path [1 1 0 1 19 0 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 19 0 1], :nextjournal/value 19, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1 0 1 19 1], :nextjournal/value [{:path [1 1 0 1 19 1 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [1 1 0 1 19 1 1], :nextjournal/value 0.11307408162094379, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:nextjournal/value {:count 99, :offset 20, :path [1 1 0 1], :remaining 79}, :nextjournal/viewer {:name :elision, :render-fn #viewer-fn v/elision-viewer}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :encoding, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value [{:path [2 1 0 0], :nextjournal/value :tooltip, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1], :nextjournal/value [{:path [2 1 0 1 0], :nextjournal/value [{:path [2 1 0 1 0 0], :nextjournal/value [{:path [2 1 0 1 0 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 0 0 1], :nextjournal/value \\\"x\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 0 1 0 1], :nextjournal/value [{:path [2 1 0 1 0 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 0 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}} {:path [2 1 0 1 1], :nextjournal/value [{:path [2 1 0 1 1 0], :nextjournal/value [{:path [2 1 0 1 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 1 0 1], :nextjournal/value \\\"y\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 0 1 1 1], :nextjournal/value [{:path [2 1 0 1 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 0 1 1 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"]\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 1], :nextjournal/value [{:path [2 1 1 0], :nextjournal/value :x, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 1 1], :nextjournal/value [{:path [2 1 1 1 0], :nextjournal/value [{:path [2 1 1 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 1 1 0 1], :nextjournal/value \\\"x\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 1 1 1], :nextjournal/value [{:path [2 1 1 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 1 1 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 2], :nextjournal/value [{:path [2 1 2 0], :nextjournal/value :y, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1], :nextjournal/value [{:path [2 1 2 1 0], :nextjournal/value [{:path [2 1 2 1 0 0], :nextjournal/value :field, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1 0 1], :nextjournal/value \\\"y\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1 2 1 1], :nextjournal/value [{:path [2 1 2 1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [2 1 2 1 1 1], :nextjournal/value \\\"quantitative\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :height, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value 300, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :mark, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value [{:path [4 1 0 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [4 1 0 1], :nextjournal/value \\\"circle\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value :width, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}} {:path [5 1], :nextjournal/value 400, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (repeatedly 99 rand)}\\n    tc/dataset\\n    viz/data\\n    (viz/type \\\"point\\\")\\n    viz/viz\\n    ;; tweaking vega-lite:\\n    (assoc :background \\\"#e9e6e3\\\"))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"#e9e6e3\\\", :height 300, :data {:values [{:x 0, :y 0.13594533249399277} {:x 1, :y 0.6986710576215504} {:x 2, :y 0.7774199892779433} {:x 3, :y 0.2893382233873617} {:x 4, :y 0.7112960597751773} {:x 5, :y 0.19286808819410273} {:x 6, :y 0.7086317607895926} {:x 7, :y 0.12836275665272123} {:x 8, :y 0.3319341297615481} {:x 9, :y 0.36701251873295027} {:x 10, :y 0.7209404124947866} {:x 11, :y 0.9550574535955222} {:x 12, :y 0.8845488340878022} {:x 13, :y 0.16808393333097027} {:x 14, :y 0.5947486738293623} {:x 15, :y 0.13751752198430267} {:x 16, :y 0.777079368074339} {:x 17, :y 0.07064547455761405} {:x 18, :y 0.7515332037111049} {:x 19, :y 0.7463095957968248} {:x 20, :y 0.7285703686278375} {:x 21, :y 0.229278028024275} {:x 22, :y 0.17832903516231746} {:x 23, :y 0.4925853467775103} {:x 24, :y 0.5290983098264092} {:x 25, :y 0.8698001131454262} {:x 26, :y 0.71622072042871} {:x 27, :y 0.74483957916338} {:x 28, :y 0.3879632271922059} {:x 29, :y 0.40782927541444414} {:x 30, :y 0.714336032788348} {:x 31, :y 0.6094512581699157} {:x 32, :y 0.2627545263475588} {:x 33, :y 0.5967179514781276} {:x 34, :y 0.9658764022515636} {:x 35, :y 0.6392465260223631} {:x 36, :y 0.8675636468260269} {:x 37, :y 0.6016221088433229} {:x 38, :y 0.7890075579889635} {:x 39, :y 0.5946752200349497} {:x 40, :y 0.8955301270694866} {:x 41, :y 0.2724389324323213} {:x 42, :y 0.09297297320056674} {:x 43, :y 0.8237930001900499} {:x 44, :y 0.3590721504643677} {:x 45, :y 0.045575239915515264} {:x 46, :y 0.2785819711790456} {:x 47, :y 0.2500937633510254} {:x 48, :y 0.8505662608231543} {:x 49, :y 0.842985597336248} {:x 50, :y 0.862262562431143} {:x 51, :y 0.6613378125637317} {:x 52, :y 0.9569053326348254} {:x 53, :y 0.0566453255739352} {:x 54, :y 0.784159460554401} {:x 55, :y 0.9778730791819342} {:x 56, :y 0.023277785190173983} {:x 57, :y 0.2076003310916298} {:x 58, :y 0.4632955007497924} {:x 59, :y 0.44554856441335844} {:x 60, :y 0.9546750363813518} {:x 61, :y 0.15096200750892697} {:x 62, :y 0.7966046575585899} {:x 63, :y 0.24617003224448586} {:x 64, :y 0.7680485399981072} {:x 65, :y 0.7616923064059398} {:x 66, :y 0.46368349606864345} {:x 67, :y 0.8475502764528143} {:x 68, :y 0.1637013221089546} {:x 69, :y 0.8807505574281875} {:x 70, :y 0.09539702628398838} {:x 71, :y 0.5255574226542049} {:x 72, :y 0.4714135455655728} {:x 73, :y 0.9271499229407206} {:x 74, :y 0.09201392284244103} {:x 75, :y 0.8821662468797717} {:x 76, :y 0.9449653049486515} {:x 77, :y 0.9886983952423353} {:x 78, :y 0.13533541353687895} {:x 79, :y 0.8563695291419635} {:x 80, :y 0.5281340625981513} {:x 81, :y 0.39267534556956685} {:x 82, :y 0.7293209509787385} {:x 83, :y 0.6789074045076432} {:x 84, :y 0.8959081942870875} {:x 85, :y 0.7274216168358093} {:x 86, :y 0.42500267318449614} {:x 87, :y 0.4571245221026814} {:x 88, :y 0.7865721547159465} {:x 89, :y 0.03679725792636046} {:x 90, :y 0.7380203461232785} {:x 91, :y 0.5928666652570243} {:x 92, :y 0.3834828132258701} {:x 93, :y 0.4416880294459421} {:x 94, :y 0.15089686327253338} {:x 95, :y 0.03417950409748993} {:x 96, :y 0.7797706830632152} {:x 97, :y 0.7562180405566037} {:x 98, :y 0.007213748767718187}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" ## Layers\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" same dataset\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 9)\\n     :y (repeatedly 9 #(rand-int 5))}\\n    tc/dataset\\n    viz/data\\n    (viz/layer {:type ht/point-chart\\n                :color :x\\n                :size :y})\\n    (viz/layer {:type ht/line-chart})\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:width 400, :background \\\"floralwhite\\\", :layer [{:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :color {:field \\\"x\\\", :type \\\"nominal\\\"}, :size {:field \\\"y\\\", :type \\\"nominal\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300} {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"line\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300}], :height 300, :data {:values [{:x 0, :y 2} {:x 1, :y 1} {:x 2, :y 3} {:x 3, :y 2} {:x 4, :y 3} {:x 5, :y 1} {:x 6, :y 3} {:x 7, :y 4} {:x 8, :y 4}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" different datasets\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> (viz/layer {:type  ht/point-chart\\n                :color :x\\n                :size  :y\\n                :data (-> {:x (range 9)\\n                           :y (repeatedly 9 #(rand-int 5))}\\n                          tc/dataset)})\\n    (viz/layer {:type ht/line-chart\\n                :data (-> {:x (range 9)\\n                           :y (repeatedly 9 #(* 3 (rand)))}\\n                          tc/dataset)})\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:width 400, :background \\\"floralwhite\\\", :layer [{:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :color {:field \\\"x\\\", :type \\\"nominal\\\"}, :size {:field \\\"y\\\", :type \\\"nominal\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 0} {:x 1, :y 0} {:x 2, :y 3} {:x 3, :y 3} {:x 4, :y 0} {:x 5, :y 2} {:x 6, :y 0} {:x 7, :y 1} {:x 8, :y 1}]}} {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"line\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 1.8515500211350926} {:x 1, :y 1.067078539771329} {:x 2, :y 0.47161812318891294} {:x 3, :y 0.7848973871844959} {:x 4, :y 1.8485538436454094} {:x 5, :y 1.7082797509580443} {:x 6, :y 1.9468079803292602} {:x 7, :y 0.3806970830133861} {:x 8, :y 2.458849963888494}]}}], :height 300}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" ### regression layers\\n\\n (computed in Clojure, not the browser)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (range 99)\\n     :y (map +\\n             (range 99)\\n             (repeatedly 99 #(* 20 (rand))))}\\n    tc/dataset\\n    viz/data\\n    (viz/layer {:type :point})\\n    (viz/regression-line)\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:width 400, :background \\\"floralwhite\\\", :layer [{:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"circle\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300} {:encoding {:y {:field \\\"y\\\", :type \\\"quantitative\\\"}, :x {:field \\\"x\\\", :type \\\"quantitative\\\"}, :tooltip [{:field \\\"x\\\", :type \\\"quantitative\\\"} {:field \\\"y\\\", :type \\\"quantitative\\\"}]}, :mark {:type \\\"line\\\"}, :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:x 0, :y 9.024657102033123} {:x 98, :y 109.39815886082559}]}}], :height 300, :data {:values [{:x 0, :y 3.596431836280307} {:x 1, :y 1.398235683588719} {:x 2, :y 19.667141287793495} {:x 3, :y 10.226131271629807} {:x 4, :y 10.716073712976753} {:x 5, :y 21.883100429334544} {:x 6, :y 13.431093756180278} {:x 7, :y 20.58283152194833} {:x 8, :y 9.496620505429062} {:x 9, :y 15.244219181241483} {:x 10, :y 22.592963547662208} {:x 11, :y 28.1619552685414} {:x 12, :y 15.643649847759537} {:x 13, :y 21.43645179978047} {:x 14, :y 28.547371031957717} {:x 15, :y 21.78320965424591} {:x 16, :y 19.019552306586142} {:x 17, :y 29.379682588989002} {:x 18, :y 35.220280783270596} {:x 19, :y 24.220242944621358} {:x 20, :y 29.361134794262835} {:x 21, :y 38.11914062603714} {:x 22, :y 35.076678134643636} {:x 23, :y 26.421814967630795} {:x 24, :y 29.44277037470375} {:x 25, :y 40.36367284260083} {:x 26, :y 32.36170059850924} {:x 27, :y 28.871960358241985} {:x 28, :y 33.664213146652685} {:x 29, :y 42.77268897566607} {:x 30, :y 41.564109000700924} {:x 31, :y 50.48526793696817} {:x 32, :y 47.717998951117664} {:x 33, :y 43.319543646362504} {:x 34, :y 34.579264100681726} {:x 35, :y 41.70292191102048} {:x 36, :y 43.29210685088111} {:x 37, :y 37.641145108258726} {:x 38, :y 56.16208010422561} {:x 39, :y 50.34968908621737} {:x 40, :y 40.68936161423063} {:x 41, :y 43.49060617507984} {:x 42, :y 43.998672177660936} {:x 43, :y 56.331562604883345} {:x 44, :y 51.79582022304036} {:x 45, :y 55.24179956551558} {:x 46, :y 57.088724524687194} {:x 47, :y 54.39830297292461} {:x 48, :y 56.00618111694478} {:x 49, :y 68.85169046724002} {:x 50, :y 54.1188774598136} {:x 51, :y 62.964654586347514} {:x 52, :y 62.5150247700097} {:x 53, :y 71.76837220159179} {:x 54, :y 72.1207067377973} {:x 55, :y 71.37854183822515} {:x 56, :y 73.80848416959668} {:x 57, :y 71.97974033585561} {:x 58, :y 74.94515958712597} {:x 59, :y 68.04408136093312} {:x 60, :y 67.24171657613273} {:x 61, :y 65.72979376254642} {:x 62, :y 70.9485899432954} {:x 63, :y 77.4517785847883} {:x 64, :y 74.26333845595582} {:x 65, :y 74.38656380395341} {:x 66, :y 79.77381101321228} {:x 67, :y 75.4378087651261} {:x 68, :y 80.14876031870547} {:x 69, :y 77.52771106265605} {:x 70, :y 79.22287500294749} {:x 71, :y 88.8888119651109} {:x 72, :y 91.03013940958715} {:x 73, :y 91.51687068291933} {:x 74, :y 84.9565615464632} {:x 75, :y 78.62816533374762} {:x 76, :y 79.56145461316429} {:x 77, :y 90.6758338529998} {:x 78, :y 88.11883997132607} {:x 79, :y 92.36422544695391} {:x 80, :y 85.73298253180077} {:x 81, :y 81.61471438327808} {:x 82, :y 98.97286155844702} {:x 83, :y 98.350563550556} {:x 84, :y 95.15024005232294} {:x 85, :y 100.3642549632741} {:x 86, :y 98.2482994416788} {:x 87, :y 89.80275262210571} {:x 88, :y 103.51823833145403} {:x 89, :y 106.66147061920005} {:x 90, :y 102.13815548708786} {:x 91, :y 105.13578758394873} {:x 92, :y 103.12267286863025} {:x 93, :y 100.07186583555806} {:x 94, :y 101.74641999102306} {:x 95, :y 99.73076570788362} {:x 96, :y 114.77545747219082} {:x 97, :y 98.58846994730253} {:x 98, :y 103.27626213746649}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \" ## histograms\\n\\n (computed in Clojure, not in the browser)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(-> {:x (->> (fn []\\n               (->> (partial rand-int 2)\\n                    (repeatedly 200)\\n                    (reduce +)))\\n             (repeatedly 9999)\\n             (map #(* % %)))}\\n    tc/dataset\\n    viz/data\\n    (viz/type [:histogram {:bin-count 30}])\\n    viz/viz)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:encoding {:y {:field \\\"count\\\", :type \\\"quantitative\\\"}, :x {:field \\\"left\\\", :type \\\"quantitative\\\", :axis {:title :x}}, :y2 {:field 0, :type \\\"quantitative\\\"}, :x2 {:field \\\"right\\\", :type \\\"quantitative\\\", :axis {:title :x}}, :tooltip [{:field \\\"left\\\", :type \\\"quantitative\\\"} {:field \\\"count\\\", :type \\\"quantitative\\\"}]}, :mark \\\"rect\\\", :width 400, :background \\\"floralwhite\\\", :height 300, :data {:values [{:left 5625.0, :count 8, :right 5992.2} {:left 5992.2, :count 8, :right 6359.4} {:left 6359.4, :count 53, :right 6726.6} {:left 6726.6, :count 85, :right 7093.8} {:left 7093.8, :count 112, :right 7461.0} {:left 7461.0, :count 239, :right 7828.2} {:left 7828.2, :count 384, :right 8195.4} {:left 8195.4, :count 518, :right 8562.6} {:left 8562.6, :count 668, :right 8929.8} {:left 8929.8, :count 907, :right 9297.0} {:left 9297.0, :count 1045, :right 9664.2} {:left 9664.2, :count 1173, :right 10031.4} {:left 10031.4, :count 593, :right 10398.599999999999} {:left 10398.599999999999, :count 1057, :right 10765.8} {:left 10765.8, :count 900, :right 11133.0} {:left 11133.0, :count 737, :right 11500.2} {:left 11500.2, :count 325, :right 11867.4} {:left 11867.4, :count 463, :right 12234.599999999999} {:left 12234.599999999999, :count 314, :right 12601.8} {:left 12601.8, :count 99, :right 12969.0} {:left 12969.0, :count 152, :right 13336.2} {:left 13336.2, :count 83, :right 13703.4} {:left 13703.4, :count 28, :right 14070.6} {:left 14070.6, :count 25, :right 14437.8} {:left 14437.8, :count 5, :right 14805.0} {:left 14805.0, :count 8, :right 15172.199999999999} {:left 15172.199999999999, :count 3, :right 15539.4} {:left 15539.4, :count 4, :right 15906.6} {:left 15906.6, :count 1, :right 16273.8} {:left 16273.8, :count 2, :right 16641.0}]}}, :nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}}\", :nextjournal/viewer {:name :vega-lite}}, :path []} {:nextjournal/value \":bye\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value :bye, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}}\"}, :path []} {:nextjournal/value \"(comment\\n  (clerk/build-static-app!\\n   {:paths [\\\"notebooks/intro.clj\\\"]}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}}\"}, :path []}], :title \"Viz.clj tutorial\"}, :nextjournal/viewer :clerk/notebook, :scope {:namespace :scicloj.viz.intro}}}, :path->url {\"notebooks/intro.clj\" \"notebooks/intro.clj\"}}")
app.init(opts)
</script></body></html>